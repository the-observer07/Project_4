{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _inherits = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/inherits.js\").default;\n\nvar _createSuper = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/createSuper.js\").default;\n\nvar _slicedToArray = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _activeElement = _interopRequireDefault(require(\"dom-helpers/activeElement\"));\n\nvar _canUseDOM = _interopRequireDefault(require(\"dom-helpers/canUseDOM\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _excluded = [\"disabled\", \"readOnly\", \"placeholder\", \"innerRef\", \"min\", \"max\", \"localizer\", \"editing\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar isSign = function isSign(val) {\n  return (val || '').trim() === '-';\n};\n\nfunction isPaddedZeros(str, localizer) {\n  var localeChar = localizer.decimalCharacter();\n\n  var _str$split = str.split(localeChar),\n      _str$split2 = _slicedToArray(_str$split, 2),\n      _ = _str$split2[0],\n      decimals = _str$split2[1];\n\n  return !!(decimals && decimals.match(/0+$/));\n}\n\nfunction isAtDelimiter(str, localizer) {\n  var localeChar = localizer.decimalCharacter();\n  var lastIndex = str.length - 1;\n  if (str.length < 1) return false;\n  var char = str[lastIndex];\n  return !!(char === localeChar && str.indexOf(char) === lastIndex);\n}\n\nvar NumberPickerInput = /*#__PURE__*/function (_react$default$Compon) {\n  _inherits(NumberPickerInput, _react$default$Compon);\n\n  var _super = _createSuper(NumberPickerInput);\n\n  function NumberPickerInput() {\n    var _this;\n\n    _classCallCheck(this, NumberPickerInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {};\n\n    _this.handleBlur = function (event) {\n      var str = _this.state.stringValue;\n\n      var number = _this.parseNumber(str); // if number is below the min\n      // we need to flush low values and decimal stops, onBlur means i'm done inputing\n\n\n      if (_this.isIntermediateValue(number, str)) {\n        if (isNaN(number)) {\n          number = null;\n        }\n\n        _this.props.onChange(number, event);\n      }\n    };\n\n    _this.handleChange = function (event) {\n      var _this$props2 = _this.props,\n          value = _this$props2.value,\n          onChange = _this$props2.onChange;\n\n      var stringValue = event.target.value,\n          numberValue = _this.parseNumber(stringValue);\n\n      var isIntermediate = _this.isIntermediateValue(numberValue, stringValue);\n\n      if (stringValue == null || stringValue.trim() === '') {\n        _this.setStringValue('');\n\n        onChange(null, event);\n        return;\n      } // order here matters a lot\n\n\n      if (isIntermediate) {\n        _this.setStringValue(stringValue);\n      } else if (numberValue !== value) {\n        onChange(numberValue, event);\n      } else if (stringValue != _this.state.stringValue) {\n        _this.setStringValue(stringValue);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(NumberPickerInput, [{\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(_ref) {\n      var editing = _ref.editing;\n      return {\n        reselectText: !editing && this.props.editing && this.isSelectingAllText()\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, __, _ref2) {\n      var reselectText = _ref2.reselectText;\n      if (reselectText) (0, _reactDom.findDOMNode)(this).select();\n    } // this intermediate state is for when one runs into\n    // the decimal or are typing the number\n\n  }, {\n    key: \"setStringValue\",\n    value: function setStringValue(stringValue) {\n      this.setState({\n        stringValue: stringValue\n      });\n    }\n  }, {\n    key: \"isIntermediateValue\",\n    value: function isIntermediateValue(num, str) {\n      var _this$props3 = this.props,\n          localizer = _this$props3.localizer,\n          min = _this$props3.min;\n      return !!(num < min || isSign(str) || isAtDelimiter(str, localizer) || isPaddedZeros(str, localizer));\n    }\n  }, {\n    key: \"isSelectingAllText\",\n    value: function isSelectingAllText() {\n      var node = _canUseDOM.default && (0, _reactDom.findDOMNode)(this);\n      return _canUseDOM.default && (0, _activeElement.default)() === node && node.selectionStart === 0 && node.selectionEnd === node.value.length;\n    }\n  }, {\n    key: \"parseNumber\",\n    value: function parseNumber(strVal) {\n      var _this$props4 = this.props,\n          localizer = _this$props4.localizer,\n          userParse = _this$props4.parse;\n      if (userParse) return userParse(strVal, localizer);\n      return localizer.parseNumber(strVal);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly,\n          placeholder = _this$props.placeholder,\n          innerRef = _this$props.innerRef,\n          min = _this$props.min,\n          max = _this$props.max,\n          props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n      var value = this.state.stringValue;\n      return /*#__PURE__*/_react.default.createElement(_Input.default, _extends({}, props, {\n        ref: innerRef,\n        inputMode: \"numeric\",\n        className: \"rw-widget-input\",\n        onChange: this.handleChange,\n        onBlur: this.handleBlur,\n        \"aria-valuenow\": value\n        /*HACK*/\n        ,\n        \"aria-valuemin\": isFinite(min) ? min : undefined,\n        \"aria-valuemax\": isFinite(max) ? max : undefined,\n        disabled: disabled,\n        readOnly: readOnly,\n        placeholder: placeholder,\n        value: value\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var value = nextProps.value,\n          editing = nextProps.editing,\n          localizer = nextProps.localizer;\n      var decimal = localizer.decimalCharacter();\n      var stringValue = value == null || isNaN(value) ? '' : editing ? ('' + value).replace('.', decimal) : localizer.formatNumber(value\n      /*, 'default'*/\n      );\n      if (prevState.lastValueFromProps !== stringValue) return {\n        stringValue: stringValue,\n        lastValueFromProps: stringValue\n      };\n      return null;\n    }\n  }]);\n\n  return NumberPickerInput;\n}(_react.default.Component);\n\nNumberPickerInput.defaultProps = {\n  value: null,\n  editing: false\n};\nNumberPickerInput.propTypes = {\n  value: _propTypes.default.number,\n  editing: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n  localizer: _propTypes.default.object.isRequired,\n  parse: _propTypes.default.func,\n  min: _propTypes.default.number,\n  max: _propTypes.default.number,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled,\n  onChange: _propTypes.default.func.isRequired\n};\nvar _default = NumberPickerInput;\nexports.default = _default;","map":{"version":3,"sources":["/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/react-widgets/cjs/NumberInput.js"],"names":["exports","__esModule","default","_activeElement","_interopRequireDefault","require","_canUseDOM","_propTypes","_react","_reactDom","_Input","CustomPropTypes","_interopRequireWildcard","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","isSign","val","trim","isPaddedZeros","str","localizer","localeChar","decimalCharacter","split","_","decimals","match","isAtDelimiter","lastIndex","char","NumberPickerInput","args","state","handleBlur","event","stringValue","number","parseNumber","isIntermediateValue","isNaN","props","onChange","handleChange","value","numberValue","isIntermediate","setStringValue","editing","reselectText","isSelectingAllText","__","findDOMNode","select","setState","num","min","node","selectionStart","selectionEnd","strVal","userParse","parse","_this$props","disabled","readOnly","placeholder","innerRef","max","createElement","ref","inputMode","className","onBlur","isFinite","undefined","nextProps","prevState","decimal","replace","formatNumber","lastValueFromProps","Component","defaultProps","propTypes","bool","string","object","isRequired","func","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _activeElement = _interopRequireDefault(require(\"dom-helpers/activeElement\"));\n\nvar _canUseDOM = _interopRequireDefault(require(\"dom-helpers/canUseDOM\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nconst _excluded = [\"disabled\", \"readOnly\", \"placeholder\", \"innerRef\", \"min\", \"max\", \"localizer\", \"editing\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nlet isSign = val => (val || '').trim() === '-';\n\nfunction isPaddedZeros(str, localizer) {\n  let localeChar = localizer.decimalCharacter();\n  let [_, decimals] = str.split(localeChar);\n  return !!(decimals && decimals.match(/0+$/));\n}\n\nfunction isAtDelimiter(str, localizer) {\n  let localeChar = localizer.decimalCharacter();\n  let lastIndex = str.length - 1;\n  if (str.length < 1) return false;\n  let char = str[lastIndex];\n  return !!(char === localeChar && str.indexOf(char) === lastIndex);\n}\n\nclass NumberPickerInput extends _react.default.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.handleBlur = event => {\n      let str = this.state.stringValue;\n      let number = this.parseNumber(str); // if number is below the min\n      // we need to flush low values and decimal stops, onBlur means i'm done inputing\n\n      if (this.isIntermediateValue(number, str)) {\n        if (isNaN(number)) {\n          number = null;\n        }\n\n        this.props.onChange(number, event);\n      }\n    };\n\n    this.handleChange = event => {\n      let {\n        value,\n        onChange\n      } = this.props;\n      let stringValue = event.target.value,\n          numberValue = this.parseNumber(stringValue);\n      let isIntermediate = this.isIntermediateValue(numberValue, stringValue);\n\n      if (stringValue == null || stringValue.trim() === '') {\n        this.setStringValue('');\n        onChange(null, event);\n        return;\n      } // order here matters a lot\n\n\n      if (isIntermediate) {\n        this.setStringValue(stringValue);\n      } else if (numberValue !== value) {\n        onChange(numberValue, event);\n      } else if (stringValue != this.state.stringValue) {\n        this.setStringValue(stringValue);\n      }\n    };\n  }\n\n  getSnapshotBeforeUpdate({\n    editing\n  }) {\n    return {\n      reselectText: !editing && this.props.editing && this.isSelectingAllText()\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let {\n      value,\n      editing,\n      localizer\n    } = nextProps;\n    let decimal = localizer.decimalCharacter();\n    const stringValue = value == null || isNaN(value) ? '' : editing ? ('' + value).replace('.', decimal) : localizer.formatNumber(value\n    /*, 'default'*/\n    );\n    if (prevState.lastValueFromProps !== stringValue) return {\n      stringValue,\n      lastValueFromProps: stringValue\n    };\n    return null;\n  }\n\n  componentDidUpdate(_, __, {\n    reselectText\n  }) {\n    if (reselectText) (0, _reactDom.findDOMNode)(this).select();\n  } // this intermediate state is for when one runs into\n  // the decimal or are typing the number\n\n\n  setStringValue(stringValue) {\n    this.setState({\n      stringValue\n    });\n  }\n\n  isIntermediateValue(num, str) {\n    let {\n      localizer,\n      min\n    } = this.props;\n    return !!(num < min || isSign(str) || isAtDelimiter(str, localizer) || isPaddedZeros(str, localizer));\n  }\n\n  isSelectingAllText() {\n    const node = _canUseDOM.default && (0, _reactDom.findDOMNode)(this);\n    return _canUseDOM.default && (0, _activeElement.default)() === node && node.selectionStart === 0 && node.selectionEnd === node.value.length;\n  }\n\n  parseNumber(strVal) {\n    let {\n      localizer,\n      parse: userParse\n    } = this.props;\n    if (userParse) return userParse(strVal, localizer);\n    return localizer.parseNumber(strVal);\n  }\n\n  render() {\n    let _this$props = this.props,\n        {\n      disabled,\n      readOnly,\n      placeholder,\n      // eslint-disable-next-line react/prop-types\n      innerRef,\n      min,\n      max\n    } = _this$props,\n        props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    let value = this.state.stringValue;\n    return /*#__PURE__*/_react.default.createElement(_Input.default, _extends({}, props, {\n      ref: innerRef,\n      inputMode: \"numeric\",\n      className: \"rw-widget-input\",\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      \"aria-valuenow\": value\n      /*HACK*/\n      ,\n      \"aria-valuemin\": isFinite(min) ? min : undefined,\n      \"aria-valuemax\": isFinite(max) ? max : undefined,\n      disabled: disabled,\n      readOnly: readOnly,\n      placeholder: placeholder,\n      value: value\n    }));\n  }\n\n}\n\nNumberPickerInput.defaultProps = {\n  value: null,\n  editing: false\n};\nNumberPickerInput.propTypes = {\n  value: _propTypes.default.number,\n  editing: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n  localizer: _propTypes.default.object.isRequired,\n  parse: _propTypes.default.func,\n  min: _propTypes.default.number,\n  max: _propTypes.default.number,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled,\n  onChange: _propTypes.default.func.isRequired\n};\nvar _default = NumberPickerInput;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}