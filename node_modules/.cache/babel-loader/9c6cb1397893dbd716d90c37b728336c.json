{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Calendar = _interopRequireDefault(require(\"./Calendar\"));\n\nvar _DatePickerInput = _interopRequireDefault(require(\"./DatePickerInput\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _Localization = require(\"./Localization\");\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _TimeInput = _interopRequireDefault(require(\"./TimeInput\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _dates = _interopRequireDefault(require(\"./dates\"));\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useTabTrap = _interopRequireDefault(require(\"./useTabTrap\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\n\nvar _InputAddon = _interopRequireDefault(require(\"./InputAddon\"));\n\nconst _excluded = [\"id\", \"value\", \"onChange\", \"onSelect\", \"onToggle\", \"onKeyDown\", \"onKeyPress\", \"onCurrentDateChange\", \"inputProps\", \"calendarProps\", \"timeInputProps\", \"popupProps\", \"autoFocus\", \"tabIndex\", \"disabled\", \"readOnly\", \"className\", \"valueFormat\", \"valueDisplayFormat\", \"valueEditFormat\", \"containerClassName\", \"name\", \"selectIcon\", \"placeholder\", \"includeTime\", \"min\", \"max\", \"open\", \"dropUp\", \"parse\", \"messages\", \"formats\", \"currentDate\", \"popupTransition\", \"popupComponent\", \"timePrecision\", \"aria-labelledby\", \"aria-describedby\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nlet propTypes = {\n  /**\n   * @example ['valuePicker', [ ['new Date()', null] ]]\n   */\n  value: _propTypes.default.instanceOf(Date),\n\n  /**\n   * @example ['onChangePicker', [ ['new Date()', null] ]]\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * @example ['openDate']\n   */\n  open: _propTypes.default.bool,\n  onToggle: _propTypes.default.func,\n\n  /**\n   * Default current date at which the calendar opens. If none is provided, opens at today's date or the `value` date (if any).\n   */\n  currentDate: _propTypes.default.instanceOf(Date),\n\n  /**\n   * Change event Handler that is called when the currentDate is changed. The handler is called with the currentDate object.\n   */\n  onCurrentDateChange: _propTypes.default.func,\n  onSelect: _propTypes.default.func,\n\n  /**\n   * The minimum Date that can be selected. Min only limits selection, it doesn't constrain the date values that\n   * can be typed or pasted into the widget. If you need this behavior you can constrain values via\n   * the `onChange` handler.\n   *\n   * @example ['prop', ['min', 'new Date()']]\n   */\n  min: _propTypes.default.instanceOf(Date),\n\n  /**\n   * The maximum Date that can be selected. Max only limits selection, it doesn't constrain the date values that\n   * can be typed or pasted into the widget. If you need this behavior you can constrain values via\n   * the `onChange` handler.\n   *\n   * @example ['prop', ['max', 'new Date()']]\n   */\n  max: _propTypes.default.instanceOf(Date),\n\n  /**\n   * A formatting options used to display the date value. This is a shorthand for\n   * setting both `valueDisplayFormat` and `valueEditFormat`.\n   */\n  valueFormat: _propTypes.default.any,\n\n  /**\n   * A formatting options used to display the date value. For more information about formats\n   * visit the [Localization page](./localization)\n   *\n   * ```tsx live\n   * import { DatePicker } from 'react-widgets';\n   *\n   * <DatePicker\n   *   defaultValue={new Date()}\n   *   valueDisplayFormat={{ dateStyle: \"medium\" }}\n   * />\n   * ```\n   */\n  valueDisplayFormat: _propTypes.default.any,\n\n  /**\n   * A formatting options used while the date input has focus. Useful for showing a simpler format for inputing.\n   * For more information about formats visit the [Localization page](./localization)\n   *\n   * ```tsx live\n   * import { DatePicker } from 'react-widgets';\n   *\n   * <DatePicker\n   *   defaultValue={new Date()}\n   *   valueEditFormat={{ dateStyle: \"short\" }}\n   *   valueDisplayFormat={{ dateStyle: \"medium\" }}\n   * />\n   * ```\n   */\n  valueEditFormat: _propTypes.default.any,\n\n  /**\n   * Enable the time list component of the picker.\n   */\n  includeTime: _propTypes.default.bool,\n  timePrecision: _propTypes.default.oneOf(['minutes', 'seconds', 'milliseconds']),\n  timeInputProps: _propTypes.default.object,\n\n  /** Specify the element used to render the calendar dropdown icon. */\n  selectIcon: _propTypes.default.node,\n  dropUp: _propTypes.default.bool,\n  popupTransition: _propTypes.default.elementType,\n  placeholder: _propTypes.default.string,\n  name: _propTypes.default.string,\n  autoFocus: _propTypes.default.bool,\n\n  /**\n   * @example ['disabled', ['new Date()']]\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * @example ['readOnly', ['new Date()']]\n   */\n  readOnly: _propTypes.default.bool,\n\n  /**\n   * Determines how the widget parses the typed date string into a Date object. You can provide an array of formats to try,\n   * or provide a function that returns a date to handle parsing yourself. When `parse` is unspecified and\n   * the `format` prop is a `string` parse will automatically use that format as its default.\n   */\n  parse: _propTypes.default.oneOfType([_propTypes.default.any, _propTypes.default.func]),\n\n  /** @ignore */\n  tabIndex: _propTypes.default.any,\n\n  /** @ignore */\n  'aria-labelledby': _propTypes.default.string,\n\n  /** @ignore */\n  'aria-describedby': _propTypes.default.string,\n\n  /** @ignore */\n  localizer: _propTypes.default.any,\n  onKeyDown: _propTypes.default.func,\n  onKeyPress: _propTypes.default.func,\n  onBlur: _propTypes.default.func,\n  onFocus: _propTypes.default.func,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  calendarProps: _propTypes.default.object,\n  inputProps: _propTypes.default.object,\n  messages: _propTypes.default.shape({\n    dateButton: _propTypes.default.string\n  })\n};\nconst defaultProps = Object.assign({}, _Calendar.default.defaultProps, {\n  min: new Date(1900, 0, 1),\n  max: new Date(2099, 11, 31),\n  selectIcon: _Icon.calendar,\n  formats: {}\n});\n/**\n * ---\n * subtitle: DatePicker, TimePicker\n * localized: true\n * shortcuts:\n *   - { key: alt + down arrow, label:  open calendar or time }\n *   - { key: alt + up arrow, label: close calendar or time }\n *   - { key: down arrow, label: move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * @public\n * @extends Calendar\n */\n\nconst DatePicker = /*#__PURE__*/_react.default.forwardRef((uncontrolledProps, outerRef) => {\n  const _useUncontrolled = (0, _uncontrollable.useUncontrolled)(uncontrolledProps, {\n    open: 'onToggle',\n    value: 'onChange',\n    currentDate: 'onCurrentDateChange'\n  }),\n        {\n    id,\n    value,\n    onChange,\n    onSelect,\n    onToggle,\n    onKeyDown,\n    onKeyPress,\n    onCurrentDateChange,\n    inputProps,\n    calendarProps,\n    timeInputProps,\n    popupProps,\n    autoFocus,\n    tabIndex,\n    disabled,\n    readOnly,\n    className,\n    // @ts-ignore\n    valueFormat,\n    valueDisplayFormat = valueFormat,\n    valueEditFormat = valueFormat,\n    containerClassName,\n    name,\n    selectIcon,\n    placeholder,\n    includeTime = false,\n    min,\n    max,\n    open,\n    dropUp,\n    parse,\n    messages,\n    formats,\n    currentDate,\n    popupTransition,\n    popupComponent: Popup = _Popup.default,\n    timePrecision,\n    'aria-labelledby': ariaLabelledby,\n    'aria-describedby': ariaDescribedby\n  } = _useUncontrolled,\n        elementProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  const localizer = (0, _Localization.useLocalizer)(messages, formats);\n  const ref = (0, _react.useRef)(null);\n  const calRef = (0, _react.useRef)(null);\n  const tabTrap = (0, _useTabTrap.default)(calRef);\n  const inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  const dateId = (0, _WidgetHelpers.useInstanceId)(id, '_date');\n  const currentFormat = includeTime ? 'datetime' : 'date';\n  const toggle = (0, _useDropdownToggle.default)(open, onToggle);\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, uncontrolledProps, {\n    didHandle(focused) {\n      if (!focused) {\n        toggle.close();\n        tabTrap.stop();\n      } else if (open) {\n        tabTrap.focus();\n      }\n    }\n\n  });\n  const dateParser = (0, _react.useCallback)(str => {\n    var _localizer$parseDate, _ref;\n\n    if (typeof parse == 'function') {\n      var _parse;\n\n      return (_parse = parse(str, localizer)) != null ? _parse : null;\n    }\n\n    return (_localizer$parseDate = localizer.parseDate(str, (_ref = parse != null ? parse : valueEditFormat) != null ? _ref : valueDisplayFormat)) != null ? _localizer$parseDate : null;\n  }, [localizer, parse, valueDisplayFormat, valueEditFormat]);\n  /**\n   * Handlers\n   */\n\n  const handleChange = (0, _useEventCallback.default)((date, str, constrain) => {\n    if (readOnly || disabled) return;\n    if (constrain) date = inRangeValue(date);\n\n    if (onChange) {\n      if (date == null || value == null) {\n        if (date != value //eslint-disable-line eqeqeq\n        ) onChange(date, str);\n      } else if (!_dates.default.eq(date, value)) {\n        onChange(date, str);\n      }\n    }\n  });\n  const handleKeyDown = (0, _useEventCallback.default)(e => {\n    if (readOnly) return;\n    (0, _WidgetHelpers.notify)(onKeyDown, [e]);\n    if (e.defaultPrevented) return;\n\n    if (e.key === 'Escape' && open) {\n      toggle.close();\n    } else if (e.altKey) {\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        toggle.open();\n      } else if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        toggle.close();\n      }\n    }\n  });\n  const handleKeyPress = (0, _useEventCallback.default)(e => {\n    (0, _WidgetHelpers.notify)(onKeyPress, [e]);\n    if (e.defaultPrevented) return;\n  });\n  const handleDateSelect = (0, _useEventCallback.default)(date => {\n    var _ref$current;\n\n    let dateTime = _dates.default.merge(date, value, currentDate);\n\n    let dateStr = formatDate(date);\n    if (!includeTime) toggle.close();\n    (0, _WidgetHelpers.notify)(onSelect, [dateTime, dateStr]);\n    handleChange(dateTime, dateStr, true);\n    (_ref$current = ref.current) == null ? void 0 : _ref$current.focus();\n  });\n  const handleTimeChange = (0, _useEventCallback.default)(date => {\n    handleChange(date, formatDate(date), true);\n  });\n  const handleCalendarClick = (0, _useEventCallback.default)(e => {\n    if (readOnly || disabled) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    toggle();\n  });\n\n  const handleOpening = () => {\n    tabTrap.start();\n    requestAnimationFrame(() => {\n      tabTrap.focus();\n    });\n  };\n\n  const handleClosing = () => {\n    tabTrap.stop();\n    if (focused) focus();\n  };\n  /**\n   * Methods\n   */\n\n\n  function focus() {\n    var _calRef$current, _ref$current2;\n\n    if (open) (_calRef$current = calRef.current) == null ? void 0 : _calRef$current.focus();else (_ref$current2 = ref.current) == null ? void 0 : _ref$current2.focus();\n  }\n\n  function inRangeValue(value) {\n    if (value == null) return value;\n    return _dates.default.max(_dates.default.min(value, max), min);\n  }\n\n  function formatDate(date) {\n    return date instanceof Date && !isNaN(date.getTime()) ? localizer.formatDate(date, currentFormat) : '';\n  }\n\n  (0, _react.useImperativeHandle)(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderList = (0, _WidgetHelpers.useFirstFocusedRender)(focused, open);\n  const inputReadOnly = (inputProps == null ? void 0 : inputProps.readOnly) != null ? inputProps == null ? void 0 : inputProps.readOnly : readOnly;\n  return /*#__PURE__*/_react.default.createElement(_Widget.default, _extends({}, elementProps, {\n    defaultValue: undefined,\n    open: !!open,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    onKeyDown: handleKeyDown,\n    onKeyPress: handleKeyPress\n  }, focusEvents, {\n    className: (0, _classnames.default)(className, 'rw-date-picker')\n  }), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    className: containerClassName\n  }, /*#__PURE__*/_react.default.createElement(_DatePickerInput.default, _extends({}, inputProps, {\n    id: inputId,\n    ref: ref,\n    role: \"combobox\",\n    name: name,\n    value: value,\n    tabIndex: tabIndex,\n    autoFocus: autoFocus,\n    placeholder: placeholder,\n    disabled: disabled,\n    readOnly: inputReadOnly,\n    formatter: currentFormat,\n    displayFormat: valueDisplayFormat,\n    editFormat: valueEditFormat,\n    editing: focused,\n    localizer: localizer,\n    parse: dateParser,\n    onChange: handleChange,\n    \"aria-haspopup\": true,\n    \"aria-labelledby\": ariaLabelledby,\n    \"aria-describedby\": ariaDescribedby,\n    \"aria-expanded\": !!open,\n    \"aria-owns\": dateId\n  })), /*#__PURE__*/_react.default.createElement(_InputAddon.default, {\n    icon: selectIcon,\n    label: localizer.messages.dateButton(),\n    disabled: disabled || readOnly,\n    onClick: handleCalendarClick\n  })), !!shouldRenderList && /*#__PURE__*/_react.default.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: open,\n    role: \"dialog\",\n    ref: calRef,\n    id: dateId,\n    className: \"rw-calendar-popup\",\n    transition: popupTransition,\n    onEntering: handleOpening,\n    onExited: handleClosing\n  }), /*#__PURE__*/_react.default.createElement(_Calendar.default, _extends({\n    min: min,\n    max: max,\n    bordered: false\n  }, calendarProps, {\n    messages: Object.assign({}, messages, calendarProps == null ? void 0 : calendarProps.messages),\n    tabIndex: -1,\n    value: value,\n    autoFocus: false,\n    onChange: handleDateSelect,\n    currentDate: currentDate,\n    onCurrentDateChange: onCurrentDateChange,\n    \"aria-hidden\": !open,\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId\n  })), includeTime && /*#__PURE__*/_react.default.createElement(_TimeInput.default, _extends({}, timeInputProps, {\n    value: value,\n    precision: timePrecision,\n    onChange: handleTimeChange,\n    datePart: currentDate\n  }))));\n});\n\nDatePicker.displayName = 'DatePicker';\nDatePicker.propTypes = propTypes;\nDatePicker.defaultProps = defaultProps;\nvar _default = DatePicker;\nexports.default = _default;","map":{"version":3,"sources":["/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/react-widgets/cjs/DatePicker.js"],"names":["exports","__esModule","default","_classnames","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_uncontrollable","_Calendar","_DatePickerInput","_Icon","_Localization","_Popup","_TimeInput","_Widget","_WidgetPicker","_dates","_useDropdownToggle","_useTabTrap","_useFocusManager","_WidgetHelpers","_useEventCallback","_InputAddon","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","propTypes","value","instanceOf","Date","onChange","func","open","bool","onToggle","currentDate","onCurrentDateChange","onSelect","min","max","valueFormat","any","valueDisplayFormat","valueEditFormat","includeTime","timePrecision","oneOf","timeInputProps","object","selectIcon","node","dropUp","popupTransition","elementType","placeholder","string","name","autoFocus","disabled","readOnly","parse","oneOfType","tabIndex","localizer","onKeyDown","onKeyPress","onBlur","onFocus","containerClassName","calendarProps","inputProps","messages","shape","dateButton","defaultProps","calendar","formats","DatePicker","forwardRef","uncontrolledProps","outerRef","_useUncontrolled","useUncontrolled","id","popupProps","className","popupComponent","Popup","ariaLabelledby","ariaDescribedby","elementProps","useLocalizer","ref","useRef","calRef","tabTrap","inputId","useInstanceId","dateId","currentFormat","toggle","focusEvents","focused","didHandle","close","stop","focus","dateParser","useCallback","str","_localizer$parseDate","_ref","_parse","parseDate","handleChange","date","constrain","inRangeValue","eq","handleKeyDown","e","notify","defaultPrevented","altKey","preventDefault","handleKeyPress","handleDateSelect","_ref$current","dateTime","merge","dateStr","formatDate","current","handleTimeChange","handleCalendarClick","handleOpening","start","requestAnimationFrame","handleClosing","_calRef$current","_ref$current2","isNaN","getTime","useImperativeHandle","shouldRenderList","useFirstFocusedRender","inputReadOnly","createElement","defaultValue","undefined","role","formatter","displayFormat","editFormat","editing","icon","label","onClick","transition","onEntering","onExited","bordered","precision","datePart","displayName","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Calendar = _interopRequireDefault(require(\"./Calendar\"));\n\nvar _DatePickerInput = _interopRequireDefault(require(\"./DatePickerInput\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _Localization = require(\"./Localization\");\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _TimeInput = _interopRequireDefault(require(\"./TimeInput\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _dates = _interopRequireDefault(require(\"./dates\"));\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useTabTrap = _interopRequireDefault(require(\"./useTabTrap\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\n\nvar _InputAddon = _interopRequireDefault(require(\"./InputAddon\"));\n\nconst _excluded = [\"id\", \"value\", \"onChange\", \"onSelect\", \"onToggle\", \"onKeyDown\", \"onKeyPress\", \"onCurrentDateChange\", \"inputProps\", \"calendarProps\", \"timeInputProps\", \"popupProps\", \"autoFocus\", \"tabIndex\", \"disabled\", \"readOnly\", \"className\", \"valueFormat\", \"valueDisplayFormat\", \"valueEditFormat\", \"containerClassName\", \"name\", \"selectIcon\", \"placeholder\", \"includeTime\", \"min\", \"max\", \"open\", \"dropUp\", \"parse\", \"messages\", \"formats\", \"currentDate\", \"popupTransition\", \"popupComponent\", \"timePrecision\", \"aria-labelledby\", \"aria-describedby\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nlet propTypes = {\n  /**\n   * @example ['valuePicker', [ ['new Date()', null] ]]\n   */\n  value: _propTypes.default.instanceOf(Date),\n\n  /**\n   * @example ['onChangePicker', [ ['new Date()', null] ]]\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * @example ['openDate']\n   */\n  open: _propTypes.default.bool,\n  onToggle: _propTypes.default.func,\n\n  /**\n   * Default current date at which the calendar opens. If none is provided, opens at today's date or the `value` date (if any).\n   */\n  currentDate: _propTypes.default.instanceOf(Date),\n\n  /**\n   * Change event Handler that is called when the currentDate is changed. The handler is called with the currentDate object.\n   */\n  onCurrentDateChange: _propTypes.default.func,\n  onSelect: _propTypes.default.func,\n\n  /**\n   * The minimum Date that can be selected. Min only limits selection, it doesn't constrain the date values that\n   * can be typed or pasted into the widget. If you need this behavior you can constrain values via\n   * the `onChange` handler.\n   *\n   * @example ['prop', ['min', 'new Date()']]\n   */\n  min: _propTypes.default.instanceOf(Date),\n\n  /**\n   * The maximum Date that can be selected. Max only limits selection, it doesn't constrain the date values that\n   * can be typed or pasted into the widget. If you need this behavior you can constrain values via\n   * the `onChange` handler.\n   *\n   * @example ['prop', ['max', 'new Date()']]\n   */\n  max: _propTypes.default.instanceOf(Date),\n\n  /**\n   * A formatting options used to display the date value. This is a shorthand for\n   * setting both `valueDisplayFormat` and `valueEditFormat`.\n   */\n  valueFormat: _propTypes.default.any,\n\n  /**\n   * A formatting options used to display the date value. For more information about formats\n   * visit the [Localization page](./localization)\n   *\n   * ```tsx live\n   * import { DatePicker } from 'react-widgets';\n   *\n   * <DatePicker\n   *   defaultValue={new Date()}\n   *   valueDisplayFormat={{ dateStyle: \"medium\" }}\n   * />\n   * ```\n   */\n  valueDisplayFormat: _propTypes.default.any,\n\n  /**\n   * A formatting options used while the date input has focus. Useful for showing a simpler format for inputing.\n   * For more information about formats visit the [Localization page](./localization)\n   *\n   * ```tsx live\n   * import { DatePicker } from 'react-widgets';\n   *\n   * <DatePicker\n   *   defaultValue={new Date()}\n   *   valueEditFormat={{ dateStyle: \"short\" }}\n   *   valueDisplayFormat={{ dateStyle: \"medium\" }}\n   * />\n   * ```\n   */\n  valueEditFormat: _propTypes.default.any,\n\n  /**\n   * Enable the time list component of the picker.\n   */\n  includeTime: _propTypes.default.bool,\n  timePrecision: _propTypes.default.oneOf(['minutes', 'seconds', 'milliseconds']),\n  timeInputProps: _propTypes.default.object,\n\n  /** Specify the element used to render the calendar dropdown icon. */\n  selectIcon: _propTypes.default.node,\n  dropUp: _propTypes.default.bool,\n  popupTransition: _propTypes.default.elementType,\n  placeholder: _propTypes.default.string,\n  name: _propTypes.default.string,\n  autoFocus: _propTypes.default.bool,\n\n  /**\n   * @example ['disabled', ['new Date()']]\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * @example ['readOnly', ['new Date()']]\n   */\n  readOnly: _propTypes.default.bool,\n\n  /**\n   * Determines how the widget parses the typed date string into a Date object. You can provide an array of formats to try,\n   * or provide a function that returns a date to handle parsing yourself. When `parse` is unspecified and\n   * the `format` prop is a `string` parse will automatically use that format as its default.\n   */\n  parse: _propTypes.default.oneOfType([_propTypes.default.any, _propTypes.default.func]),\n\n  /** @ignore */\n  tabIndex: _propTypes.default.any,\n\n  /** @ignore */\n  'aria-labelledby': _propTypes.default.string,\n\n  /** @ignore */\n  'aria-describedby': _propTypes.default.string,\n\n  /** @ignore */\n  localizer: _propTypes.default.any,\n  onKeyDown: _propTypes.default.func,\n  onKeyPress: _propTypes.default.func,\n  onBlur: _propTypes.default.func,\n  onFocus: _propTypes.default.func,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  calendarProps: _propTypes.default.object,\n  inputProps: _propTypes.default.object,\n  messages: _propTypes.default.shape({\n    dateButton: _propTypes.default.string\n  })\n};\nconst defaultProps = Object.assign({}, _Calendar.default.defaultProps, {\n  min: new Date(1900, 0, 1),\n  max: new Date(2099, 11, 31),\n  selectIcon: _Icon.calendar,\n  formats: {}\n});\n\n/**\n * ---\n * subtitle: DatePicker, TimePicker\n * localized: true\n * shortcuts:\n *   - { key: alt + down arrow, label:  open calendar or time }\n *   - { key: alt + up arrow, label: close calendar or time }\n *   - { key: down arrow, label: move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * @public\n * @extends Calendar\n */\nconst DatePicker = /*#__PURE__*/_react.default.forwardRef((uncontrolledProps, outerRef) => {\n  const _useUncontrolled = (0, _uncontrollable.useUncontrolled)(uncontrolledProps, {\n    open: 'onToggle',\n    value: 'onChange',\n    currentDate: 'onCurrentDateChange'\n  }),\n        {\n    id,\n    value,\n    onChange,\n    onSelect,\n    onToggle,\n    onKeyDown,\n    onKeyPress,\n    onCurrentDateChange,\n    inputProps,\n    calendarProps,\n    timeInputProps,\n    popupProps,\n    autoFocus,\n    tabIndex,\n    disabled,\n    readOnly,\n    className,\n    // @ts-ignore\n    valueFormat,\n    valueDisplayFormat = valueFormat,\n    valueEditFormat = valueFormat,\n    containerClassName,\n    name,\n    selectIcon,\n    placeholder,\n    includeTime = false,\n    min,\n    max,\n    open,\n    dropUp,\n    parse,\n    messages,\n    formats,\n    currentDate,\n    popupTransition,\n    popupComponent: Popup = _Popup.default,\n    timePrecision,\n    'aria-labelledby': ariaLabelledby,\n    'aria-describedby': ariaDescribedby\n  } = _useUncontrolled,\n        elementProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  const localizer = (0, _Localization.useLocalizer)(messages, formats);\n  const ref = (0, _react.useRef)(null);\n  const calRef = (0, _react.useRef)(null);\n  const tabTrap = (0, _useTabTrap.default)(calRef);\n  const inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  const dateId = (0, _WidgetHelpers.useInstanceId)(id, '_date');\n  const currentFormat = includeTime ? 'datetime' : 'date';\n  const toggle = (0, _useDropdownToggle.default)(open, onToggle);\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, uncontrolledProps, {\n    didHandle(focused) {\n      if (!focused) {\n        toggle.close();\n        tabTrap.stop();\n      } else if (open) {\n        tabTrap.focus();\n      }\n    }\n\n  });\n  const dateParser = (0, _react.useCallback)(str => {\n    var _localizer$parseDate, _ref;\n\n    if (typeof parse == 'function') {\n      var _parse;\n\n      return (_parse = parse(str, localizer)) != null ? _parse : null;\n    }\n\n    return (_localizer$parseDate = localizer.parseDate(str, (_ref = parse != null ? parse : valueEditFormat) != null ? _ref : valueDisplayFormat)) != null ? _localizer$parseDate : null;\n  }, [localizer, parse, valueDisplayFormat, valueEditFormat]);\n  /**\n   * Handlers\n   */\n\n  const handleChange = (0, _useEventCallback.default)((date, str, constrain) => {\n    if (readOnly || disabled) return;\n    if (constrain) date = inRangeValue(date);\n\n    if (onChange) {\n      if (date == null || value == null) {\n        if (date != value //eslint-disable-line eqeqeq\n        ) onChange(date, str);\n      } else if (!_dates.default.eq(date, value)) {\n        onChange(date, str);\n      }\n    }\n  });\n  const handleKeyDown = (0, _useEventCallback.default)(e => {\n    if (readOnly) return;\n    (0, _WidgetHelpers.notify)(onKeyDown, [e]);\n    if (e.defaultPrevented) return;\n\n    if (e.key === 'Escape' && open) {\n      toggle.close();\n    } else if (e.altKey) {\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        toggle.open();\n      } else if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        toggle.close();\n      }\n    }\n  });\n  const handleKeyPress = (0, _useEventCallback.default)(e => {\n    (0, _WidgetHelpers.notify)(onKeyPress, [e]);\n    if (e.defaultPrevented) return;\n  });\n  const handleDateSelect = (0, _useEventCallback.default)(date => {\n    var _ref$current;\n\n    let dateTime = _dates.default.merge(date, value, currentDate);\n\n    let dateStr = formatDate(date);\n    if (!includeTime) toggle.close();\n    (0, _WidgetHelpers.notify)(onSelect, [dateTime, dateStr]);\n    handleChange(dateTime, dateStr, true);\n    (_ref$current = ref.current) == null ? void 0 : _ref$current.focus();\n  });\n  const handleTimeChange = (0, _useEventCallback.default)(date => {\n    handleChange(date, formatDate(date), true);\n  });\n  const handleCalendarClick = (0, _useEventCallback.default)(e => {\n    if (readOnly || disabled) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    toggle();\n  });\n\n  const handleOpening = () => {\n    tabTrap.start();\n    requestAnimationFrame(() => {\n      tabTrap.focus();\n    });\n  };\n\n  const handleClosing = () => {\n    tabTrap.stop();\n    if (focused) focus();\n  };\n  /**\n   * Methods\n   */\n\n\n  function focus() {\n    var _calRef$current, _ref$current2;\n\n    if (open) (_calRef$current = calRef.current) == null ? void 0 : _calRef$current.focus();else (_ref$current2 = ref.current) == null ? void 0 : _ref$current2.focus();\n  }\n\n  function inRangeValue(value) {\n    if (value == null) return value;\n    return _dates.default.max(_dates.default.min(value, max), min);\n  }\n\n  function formatDate(date) {\n    return date instanceof Date && !isNaN(date.getTime()) ? localizer.formatDate(date, currentFormat) : '';\n  }\n\n  (0, _react.useImperativeHandle)(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderList = (0, _WidgetHelpers.useFirstFocusedRender)(focused, open);\n  const inputReadOnly = (inputProps == null ? void 0 : inputProps.readOnly) != null ? inputProps == null ? void 0 : inputProps.readOnly : readOnly;\n  return /*#__PURE__*/_react.default.createElement(_Widget.default, _extends({}, elementProps, {\n    defaultValue: undefined,\n    open: !!open,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    onKeyDown: handleKeyDown,\n    onKeyPress: handleKeyPress\n  }, focusEvents, {\n    className: (0, _classnames.default)(className, 'rw-date-picker')\n  }), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    className: containerClassName\n  }, /*#__PURE__*/_react.default.createElement(_DatePickerInput.default, _extends({}, inputProps, {\n    id: inputId,\n    ref: ref,\n    role: \"combobox\",\n    name: name,\n    value: value,\n    tabIndex: tabIndex,\n    autoFocus: autoFocus,\n    placeholder: placeholder,\n    disabled: disabled,\n    readOnly: inputReadOnly,\n    formatter: currentFormat,\n    displayFormat: valueDisplayFormat,\n    editFormat: valueEditFormat,\n    editing: focused,\n    localizer: localizer,\n    parse: dateParser,\n    onChange: handleChange,\n    \"aria-haspopup\": true,\n    \"aria-labelledby\": ariaLabelledby,\n    \"aria-describedby\": ariaDescribedby,\n    \"aria-expanded\": !!open,\n    \"aria-owns\": dateId\n  })), /*#__PURE__*/_react.default.createElement(_InputAddon.default, {\n    icon: selectIcon,\n    label: localizer.messages.dateButton(),\n    disabled: disabled || readOnly,\n    onClick: handleCalendarClick\n  })), !!shouldRenderList && /*#__PURE__*/_react.default.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: open,\n    role: \"dialog\",\n    ref: calRef,\n    id: dateId,\n    className: \"rw-calendar-popup\",\n    transition: popupTransition,\n    onEntering: handleOpening,\n    onExited: handleClosing\n  }), /*#__PURE__*/_react.default.createElement(_Calendar.default, _extends({\n    min: min,\n    max: max,\n    bordered: false\n  }, calendarProps, {\n    messages: Object.assign({}, messages, calendarProps == null ? void 0 : calendarProps.messages),\n    tabIndex: -1,\n    value: value,\n    autoFocus: false,\n    onChange: handleDateSelect,\n    currentDate: currentDate,\n    onCurrentDateChange: onCurrentDateChange,\n    \"aria-hidden\": !open,\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId\n  })), includeTime && /*#__PURE__*/_react.default.createElement(_TimeInput.default, _extends({}, timeInputProps, {\n    value: value,\n    precision: timePrecision,\n    onChange: handleTimeChange,\n    datePart: currentDate\n  }))));\n});\n\nDatePicker.displayName = 'DatePicker';\nDatePicker.propTypes = propTypes;\nDatePicker.defaultProps = defaultProps;\nvar _default = DatePicker;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}