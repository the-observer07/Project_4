{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar DLList, Events, Queues;\nDLList = require(\"./DLList\");\nEvents = require(\"./Events\");\n\nQueues = /*#__PURE__*/function () {\n  function Queues(num_priorities) {\n    _classCallCheck(this, Queues);\n\n    var i;\n    this.Events = new Events(this);\n    this._length = 0;\n\n    this._lists = function () {\n      var _this = this;\n\n      var j, ref, results;\n      results = [];\n\n      for (i = j = 1, ref = num_priorities; 1 <= ref ? j <= ref : j >= ref; i = 1 <= ref ? ++j : --j) {\n        results.push(new DLList(function () {\n          return _this.incr();\n        }, function () {\n          return _this.decr();\n        }));\n      }\n\n      return results;\n    }.call(this);\n  }\n\n  _createClass(Queues, [{\n    key: \"incr\",\n    value: function incr() {\n      if (this._length++ === 0) {\n        return this.Events.trigger(\"leftzero\");\n      }\n    }\n  }, {\n    key: \"decr\",\n    value: function decr() {\n      if (--this._length === 0) {\n        return this.Events.trigger(\"zero\");\n      }\n    }\n  }, {\n    key: \"push\",\n    value: function push(job) {\n      return this._lists[job.options.priority].push(job);\n    }\n  }, {\n    key: \"queued\",\n    value: function queued(priority) {\n      if (priority != null) {\n        return this._lists[priority].length;\n      } else {\n        return this._length;\n      }\n    }\n  }, {\n    key: \"shiftAll\",\n    value: function shiftAll(fn) {\n      return this._lists.forEach(function (list) {\n        return list.forEachShift(fn);\n      });\n    }\n  }, {\n    key: \"getFirst\",\n    value: function getFirst() {\n      var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._lists;\n      var j, len, list;\n\n      for (j = 0, len = arr.length; j < len; j++) {\n        list = arr[j];\n\n        if (list.length > 0) {\n          return list;\n        }\n      }\n\n      return [];\n    }\n  }, {\n    key: \"shiftLastFrom\",\n    value: function shiftLastFrom(priority) {\n      return this.getFirst(this._lists.slice(priority).reverse()).shift();\n    }\n  }]);\n\n  return Queues;\n}();\n\nmodule.exports = Queues;","map":{"version":3,"sources":["/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/bottleneck/lib/Queues.js"],"names":["DLList","Events","Queues","require","num_priorities","i","_length","_lists","j","ref","results","push","incr","decr","call","trigger","job","options","priority","length","fn","forEach","list","forEachShift","arr","len","getFirst","slice","reverse","shift","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar DLList, Events, Queues;\nDLList = require(\"./DLList\");\nEvents = require(\"./Events\");\nQueues = class Queues {\n  constructor(num_priorities) {\n    var i;\n    this.Events = new Events(this);\n    this._length = 0;\n\n    this._lists = function () {\n      var j, ref, results;\n      results = [];\n\n      for (i = j = 1, ref = num_priorities; 1 <= ref ? j <= ref : j >= ref; i = 1 <= ref ? ++j : --j) {\n        results.push(new DLList(() => {\n          return this.incr();\n        }, () => {\n          return this.decr();\n        }));\n      }\n\n      return results;\n    }.call(this);\n  }\n\n  incr() {\n    if (this._length++ === 0) {\n      return this.Events.trigger(\"leftzero\");\n    }\n  }\n\n  decr() {\n    if (--this._length === 0) {\n      return this.Events.trigger(\"zero\");\n    }\n  }\n\n  push(job) {\n    return this._lists[job.options.priority].push(job);\n  }\n\n  queued(priority) {\n    if (priority != null) {\n      return this._lists[priority].length;\n    } else {\n      return this._length;\n    }\n  }\n\n  shiftAll(fn) {\n    return this._lists.forEach(function (list) {\n      return list.forEachShift(fn);\n    });\n  }\n\n  getFirst(arr = this._lists) {\n    var j, len, list;\n\n    for (j = 0, len = arr.length; j < len; j++) {\n      list = arr[j];\n\n      if (list.length > 0) {\n        return list;\n      }\n    }\n\n    return [];\n  }\n\n  shiftLastFrom(priority) {\n    return this.getFirst(this._lists.slice(priority).reverse()).shift();\n  }\n\n};\nmodule.exports = Queues;"]},"metadata":{},"sourceType":"script"}