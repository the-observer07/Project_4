{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar PropTypes = _interopRequireWildcard(require(\"prop-types\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Icon = require(\"./Icon\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _FocusListContext = require(\"./FocusListContext\");\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _InputAddon = _interopRequireDefault(require(\"./InputAddon\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _messages = require(\"./messages\");\n\nvar _A11y = require(\"./A11y\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _Accessors = require(\"./Accessors\");\n\nvar _Filter = require(\"./Filter\");\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _excluded = [\"id\", \"className\", \"containerClassName\", \"placeholder\", \"autoFocus\", \"textField\", \"dataKey\", \"autoSelectMatches\", \"focusFirstItem\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"filter\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"hideCaret\", \"hideEmptyPopup\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"name\", \"onSelect\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"groupBy\", \"renderListItem\", \"renderListGroup\", \"optionComponent\", \"listComponent\", \"popupComponent\", \"data\", \"messages\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction indexOf(data, searchTerm, text) {\n  if (!searchTerm.trim()) return -1;\n\n  for (var idx = 0; idx < data.length; idx++) {\n    if (text(data[idx]).toLowerCase() === searchTerm) return idx;\n  }\n\n  return -1;\n}\n\nvar propTypes = {\n  value: PropTypes.any,\n  onChange: PropTypes.func,\n  open: PropTypes.bool,\n  onToggle: PropTypes.func,\n  renderListItem: PropTypes.func,\n  listComponent: PropTypes.elementType,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  data: PropTypes.array,\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  name: PropTypes.string,\n\n  /** Do not show the auto complete list when it returns no results. */\n  hideEmptyPopup: PropTypes.bool,\n\n  /** Hide the combobox dropdown indicator. */\n  hideCaret: PropTypes.bool,\n\n  /**\n   *\n   * @type {(dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void}\n   */\n  onSelect: PropTypes.func,\n  autoFocus: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  busy: PropTypes.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n  placeholder: PropTypes.string,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  messages: PropTypes.shape({\n    openCombobox: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message\n  })\n};\n/**\n * ---\n * shortcuts:\n *   - { key: alt + down arrow, label: open combobox }\n *   - { key: alt + up arrow, label: close combobox }\n *   - { key: down arrow, label: move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * Select an item from the list, or input a custom value. The Combobox can also make suggestions as you type.\n\n * @public\n */\n\nvar ComboboxImpl = /*#__PURE__*/React.forwardRef(function Combobox(_ref, outerRef) {\n  var id = _ref.id,\n      className = _ref.className,\n      containerClassName = _ref.containerClassName,\n      placeholder = _ref.placeholder,\n      autoFocus = _ref.autoFocus,\n      textField = _ref.textField,\n      dataKey = _ref.dataKey,\n      autoSelectMatches = _ref.autoSelectMatches,\n      _ref$focusFirstItem = _ref.focusFirstItem,\n      focusFirstItem = _ref$focusFirstItem === void 0 ? false : _ref$focusFirstItem,\n      value = _ref.value,\n      _ref$defaultValue = _ref.defaultValue,\n      defaultValue = _ref$defaultValue === void 0 ? '' : _ref$defaultValue,\n      onChange = _ref.onChange,\n      open = _ref.open,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      onToggle = _ref.onToggle,\n      _ref$filter = _ref.filter,\n      filter = _ref$filter === void 0 ? true : _ref$filter,\n      busy = _ref.busy,\n      disabled = _ref.disabled,\n      readOnly = _ref.readOnly,\n      _ref$selectIcon = _ref.selectIcon,\n      selectIcon = _ref$selectIcon === void 0 ? _Icon.caretDown : _ref$selectIcon,\n      hideCaret = _ref.hideCaret,\n      hideEmptyPopup = _ref.hideEmptyPopup,\n      busySpinner = _ref.busySpinner,\n      dropUp = _ref.dropUp,\n      tabIndex = _ref.tabIndex,\n      popupTransition = _ref.popupTransition,\n      name = _ref.name,\n      onSelect = _ref.onSelect,\n      onKeyDown = _ref.onKeyDown,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      inputProps = _ref.inputProps,\n      listProps = _ref.listProps,\n      popupProps = _ref.popupProps,\n      groupBy = _ref.groupBy,\n      renderListItem = _ref.renderListItem,\n      renderListGroup = _ref.renderListGroup,\n      optionComponent = _ref.optionComponent,\n      _ref$listComponent = _ref.listComponent,\n      ListComponent = _ref$listComponent === void 0 ? _List.default : _ref$listComponent,\n      _ref$popupComponent = _ref.popupComponent,\n      Popup = _ref$popupComponent === void 0 ? _Popup.default : _ref$popupComponent,\n      _ref$data = _ref.data,\n      rawData = _ref$data === void 0 ? [] : _ref$data,\n      userMessages = _ref.messages,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _ref2 = (0, _uncontrollable.useUncontrolledProp)(value, defaultValue, onChange),\n      _ref3 = _slicedToArray(_ref2, 2),\n      currentValue = _ref3[0],\n      handleChange = _ref3[1];\n\n  var _ref4 = (0, _uncontrollable.useUncontrolledProp)(open, defaultOpen, onToggle),\n      _ref5 = _slicedToArray(_ref4, 2),\n      currentOpen = _ref5[0],\n      handleOpen = _ref5[1];\n\n  var ref = (0, React.useRef)(null);\n  var inputRef = (0, React.useRef)(null);\n  var listRef = (0, React.useRef)(null);\n\n  var _ref6 = (0, React.useState)(null),\n      _ref7 = _slicedToArray(_ref6, 2),\n      suggestion = _ref7[0],\n      setSuggestion = _ref7[1];\n\n  var shouldFilter = (0, React.useRef)(false);\n  var inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  var listId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox');\n  var activeId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox_active_option');\n  var accessors = (0, _Accessors.useAccessors)(textField, dataKey);\n  var messages = (0, _messages.useMessagesWithDefaults)(userMessages);\n  var toggle = (0, _useDropdownToggle.default)(currentOpen, handleOpen);\n  var isDisabled = disabled === true;\n  var isReadOnly = !!readOnly;\n  var data = (0, _Filter.useFilteredData)(rawData, filter, shouldFilter.current ? accessors.text(currentValue) : void 0, accessors.text);\n  var selectedItem = (0, React.useMemo)(function () {\n    return data[accessors.indexOf(data, currentValue)];\n  }, [data, currentValue, accessors]);\n  var list = (0, _FocusListContext.useFocusList)({\n    activeId: activeId,\n    scope: ref,\n    focusFirstItem: focusFirstItem,\n    anchorItem: currentOpen ? selectedItem : undefined\n  });\n\n  var _ref8 = (0, _useFocusManager.default)(ref, {\n    disabled: isDisabled,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, {\n    didHandle: function didHandle(focused) {\n      if (!focused) {\n        shouldFilter.current = false;\n        toggle.close();\n        setSuggestion(null);\n        list.focus(undefined);\n      } else {\n        focus({\n          preventScroll: true\n        });\n      }\n    }\n  }),\n      _ref9 = _slicedToArray(_ref8, 2),\n      focusEvents = _ref9[0],\n      focused = _ref9[1];\n\n  (0, _A11y.useActiveDescendant)(ref, activeId, currentOpen, [list.getFocused()]);\n  /**\n   * Handlers\n   */\n\n  var handleClick = function handleClick(e) {\n    if (readOnly || isDisabled) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n    toggle();\n  };\n\n  var handleSelect = function handleSelect(data, originalEvent) {\n    toggle.close();\n    shouldFilter.current = false;\n    setSuggestion(null);\n    (0, _WidgetHelpers.notify)(onSelect, [data, {\n      originalEvent: originalEvent\n    }]);\n    change(data, originalEvent, true);\n    focus({\n      preventScroll: true\n    });\n  };\n\n  var handleInputKeyDown = function handleInputKeyDown(_ref10) {\n    var key = _ref10.key;\n\n    if (key === 'Backspace' || key === 'Delete') {\n      list.focus(null);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var idx = autoSelectMatches ? indexOf(rawData, event.target.value.toLowerCase(), accessors.text) : -1;\n    shouldFilter.current = true;\n    setSuggestion(null);\n    var nextValue = idx === -1 ? event.target.value : rawData[idx];\n    change(nextValue, event);\n    if (!nextValue) toggle.close();else toggle.open();\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (readOnly) return;\n    var key = e.key,\n        altKey = e.altKey,\n        shiftKey = e.shiftKey;\n    (0, _WidgetHelpers.notify)(onKeyDown, [e]);\n    if (e.defaultPrevented) return;\n\n    var select = function select(item) {\n      return item != null && handleSelect(item, e);\n    };\n\n    var setFocused = function setFocused(el) {\n      if (!el) return;\n      setSuggestion(list.toDataItem(el));\n      list.focus(el);\n    };\n\n    if (key === 'End' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      setFocused(list.last());\n    } else if (key === 'Home' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      setFocused(list.first());\n    } else if (key === 'Escape' && currentOpen) {\n      e.preventDefault();\n      setSuggestion(null);\n      toggle.close();\n    } else if (key === 'Enter' && currentOpen) {\n      e.preventDefault();\n      select(list.getFocused());\n    } else if (key === 'ArrowDown') {\n      e.preventDefault();\n\n      if (currentOpen) {\n        setFocused(list.next());\n      } else {\n        return toggle.open();\n      }\n    } else if (key === 'ArrowUp') {\n      e.preventDefault();\n      if (altKey) return toggle.close();\n\n      if (currentOpen) {\n        setFocused(list.prev());\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function focus(opts) {\n    if (inputRef.current) inputRef.current.focus(opts);\n  }\n\n  function change(nextValue, originalEvent) {\n    var selected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    handleChange(nextValue, {\n      lastValue: currentValue,\n      originalEvent: originalEvent,\n      source: selected ? 'listbox' : 'input'\n    });\n  }\n  /**\n   * Rendering\n   */\n\n\n  (0, React.useImperativeHandle)(outerRef, function () {\n    return {\n      focus: focus\n    };\n  });\n  var shouldRenderPopup = (0, _WidgetHelpers.useFirstFocusedRender)(focused, currentOpen);\n  var valueItem = accessors.findOrSelf(data, currentValue);\n  var inputValue = accessors.text(suggestion || valueItem);\n  var completeType = filter ? 'list' : 'none';\n  var popupOpen = currentOpen && (!hideEmptyPopup || !!data.length);\n  var inputReadOnly = // @ts-ignore\n  (inputProps == null ? void 0 : inputProps.readOnly) != null ? inputProps == null ? void 0 : inputProps.readOnly : readOnly;\n  var inputAddon = false;\n\n  if (!hideCaret) {\n    inputAddon = /*#__PURE__*/React.createElement(_InputAddon.default, {\n      busy: busy,\n      icon: selectIcon,\n      spinner: busySpinner,\n      onClick: handleClick,\n      disabled: !!isDisabled || isReadOnly // FIXME\n      ,\n      label: messages.openCombobox()\n    });\n  } else if (busy) {\n    inputAddon = /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      className: \"rw-btn rw-picker-caret\"\n    }, busySpinner || _Icon.Spinner);\n  }\n\n  return /*#__PURE__*/React.createElement(_Widget.default, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly\n  }, focusEvents, {\n    onKeyDown: handleKeyDown,\n    className: (0, _classnames.default)(className, 'rw-combobox')\n  }), /*#__PURE__*/React.createElement(_WidgetPicker.default, {\n    className: (0, _classnames.default)(containerClassName, hideCaret && 'rw-widget-input', hideCaret && !busy && 'rw-hide-caret')\n  }, /*#__PURE__*/React.createElement(_Input.default, _extends({}, inputProps, {\n    role: \"combobox\",\n    name: name,\n    id: inputId,\n    className: (0, _classnames.default)( // @ts-ignore\n    inputProps && inputProps.className, 'rw-combobox-input', !hideCaret && 'rw-widget-input'),\n    autoFocus: autoFocus,\n    tabIndex: tabIndex,\n    disabled: isDisabled,\n    readOnly: inputReadOnly,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": listId,\n    \"aria-autocomplete\": completeType,\n    \"aria-expanded\": currentOpen,\n    \"aria-haspopup\": true,\n    placeholder: placeholder,\n    value: inputValue,\n    onChange: handleInputChange,\n    onKeyDown: handleInputKeyDown,\n    ref: inputRef\n  })), inputAddon), /*#__PURE__*/React.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: popupOpen,\n    transition: popupTransition,\n    onEntering: function onEntering() {\n      return listRef.current.scrollIntoView();\n    }\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    tabIndex: -1,\n    data: data,\n    groupBy: groupBy,\n    disabled: disabled,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    optionComponent: optionComponent,\n    value: selectedItem,\n    searchTerm: valueItem && accessors.text(valueItem) || '',\n    \"aria-hidden\": !popupOpen,\n    \"aria-labelledby\": inputId,\n    \"aria-live\": popupOpen ? 'polite' : void 0,\n    onChange: function onChange(d, meta) {\n      return handleSelect(d, meta.originalEvent);\n    },\n    ref: listRef,\n    messages: {\n      emptyList: rawData.length ? messages.emptyFilter : messages.emptyList\n    }\n  })))));\n});\nComboboxImpl.displayName = 'Combobox';\nComboboxImpl.propTypes = propTypes;\nvar _default = ComboboxImpl;\nexports.default = _default;","map":{"version":3,"sources":["/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/react-widgets/cjs/Combobox.js"],"names":["exports","__esModule","default","_classnames","_interopRequireDefault","require","PropTypes","_interopRequireWildcard","React","_uncontrollable","_Icon","_Input","_List","_FocusListContext","_Popup","_InputAddon","_Widget","_WidgetPicker","_messages","_A11y","CustomPropTypes","_Accessors","_Filter","_useDropdownToggle","_useFocusManager","_WidgetHelpers","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","data","searchTerm","text","trim","idx","toLowerCase","propTypes","value","any","onChange","func","open","bool","onToggle","renderListItem","listComponent","elementType","renderListGroup","groupBy","accessor","array","dataKey","textField","name","string","hideEmptyPopup","hideCaret","onSelect","autoFocus","disabled","acceptsArray","readOnly","busy","selectIcon","node","busySpinner","dropUp","popupTransition","placeholder","containerClassName","inputProps","object","listProps","messages","shape","openCombobox","message","emptyList","emptyFilter","ComboboxImpl","forwardRef","Combobox","_ref","outerRef","id","className","autoSelectMatches","focusFirstItem","defaultValue","defaultOpen","filter","caretDown","tabIndex","onKeyDown","onBlur","onFocus","popupProps","optionComponent","ListComponent","popupComponent","Popup","rawData","userMessages","elementProps","useUncontrolledProp","currentValue","handleChange","currentOpen","handleOpen","ref","useRef","inputRef","listRef","useState","suggestion","setSuggestion","shouldFilter","inputId","useInstanceId","listId","activeId","accessors","useAccessors","useMessagesWithDefaults","toggle","isDisabled","isReadOnly","useFilteredData","current","selectedItem","useMemo","list","useFocusList","scope","anchorItem","undefined","didHandle","focused","close","focus","preventScroll","focusEvents","useActiveDescendant","getFocused","handleClick","e","preventDefault","handleSelect","originalEvent","notify","change","handleInputKeyDown","handleInputChange","event","nextValue","handleKeyDown","altKey","shiftKey","defaultPrevented","select","item","setFocused","el","toDataItem","last","first","next","prev","opts","selected","lastValue","useImperativeHandle","shouldRenderPopup","useFirstFocusedRender","valueItem","findOrSelf","inputValue","completeType","popupOpen","inputReadOnly","inputAddon","createElement","icon","spinner","onClick","label","Spinner","role","FocusListContext","Provider","context","transition","onEntering","scrollIntoView","renderItem","renderGroup","d","meta","displayName","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar PropTypes = _interopRequireWildcard(require(\"prop-types\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Icon = require(\"./Icon\");\n\nvar _Input = _interopRequireDefault(require(\"./Input\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _FocusListContext = require(\"./FocusListContext\");\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _InputAddon = _interopRequireDefault(require(\"./InputAddon\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _messages = require(\"./messages\");\n\nvar _A11y = require(\"./A11y\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _Accessors = require(\"./Accessors\");\n\nvar _Filter = require(\"./Filter\");\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nconst _excluded = [\"id\", \"className\", \"containerClassName\", \"placeholder\", \"autoFocus\", \"textField\", \"dataKey\", \"autoSelectMatches\", \"focusFirstItem\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"filter\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"hideCaret\", \"hideEmptyPopup\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"name\", \"onSelect\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"groupBy\", \"renderListItem\", \"renderListGroup\", \"optionComponent\", \"listComponent\", \"popupComponent\", \"data\", \"messages\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction indexOf(data, searchTerm, text) {\n  if (!searchTerm.trim()) return -1;\n\n  for (let idx = 0; idx < data.length; idx++) if (text(data[idx]).toLowerCase() === searchTerm) return idx;\n\n  return -1;\n}\n\nlet propTypes = {\n  value: PropTypes.any,\n  onChange: PropTypes.func,\n  open: PropTypes.bool,\n  onToggle: PropTypes.func,\n  renderListItem: PropTypes.func,\n  listComponent: PropTypes.elementType,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  data: PropTypes.array,\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  name: PropTypes.string,\n\n  /** Do not show the auto complete list when it returns no results. */\n  hideEmptyPopup: PropTypes.bool,\n\n  /** Hide the combobox dropdown indicator. */\n  hideCaret: PropTypes.bool,\n\n  /**\n   *\n   * @type {(dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void}\n   */\n  onSelect: PropTypes.func,\n  autoFocus: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  busy: PropTypes.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n  placeholder: PropTypes.string,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  messages: PropTypes.shape({\n    openCombobox: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message\n  })\n};\n\n/**\n * ---\n * shortcuts:\n *   - { key: alt + down arrow, label: open combobox }\n *   - { key: alt + up arrow, label: close combobox }\n *   - { key: down arrow, label: move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * Select an item from the list, or input a custom value. The Combobox can also make suggestions as you type.\n\n * @public\n */\nconst ComboboxImpl = /*#__PURE__*/React.forwardRef(function Combobox(_ref, outerRef) {\n  let {\n    id,\n    className,\n    containerClassName,\n    placeholder,\n    autoFocus,\n    textField,\n    dataKey,\n    autoSelectMatches,\n    focusFirstItem = false,\n    value,\n    defaultValue = '',\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    filter = true,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon = _Icon.caretDown,\n    hideCaret,\n    hideEmptyPopup,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    name,\n    onSelect,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    inputProps,\n    listProps,\n    popupProps,\n    groupBy,\n    renderListItem,\n    renderListGroup,\n    optionComponent,\n    listComponent: ListComponent = _List.default,\n    popupComponent: Popup = _Popup.default,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  let [currentValue, handleChange] = (0, _uncontrollable.useUncontrolledProp)(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = (0, _uncontrollable.useUncontrolledProp)(open, defaultOpen, onToggle);\n  const ref = (0, React.useRef)(null);\n  const inputRef = (0, React.useRef)(null);\n  const listRef = (0, React.useRef)(null);\n  const [suggestion, setSuggestion] = (0, React.useState)(null);\n  const shouldFilter = (0, React.useRef)(false);\n  const inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  const listId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox');\n  const activeId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox_active_option');\n  const accessors = (0, _Accessors.useAccessors)(textField, dataKey);\n  const messages = (0, _messages.useMessagesWithDefaults)(userMessages);\n  const toggle = (0, _useDropdownToggle.default)(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const data = (0, _Filter.useFilteredData)(rawData, filter, shouldFilter.current ? accessors.text(currentValue) : void 0, accessors.text);\n  const selectedItem = (0, React.useMemo)(() => data[accessors.indexOf(data, currentValue)], [data, currentValue, accessors]);\n  const list = (0, _FocusListContext.useFocusList)({\n    activeId,\n    scope: ref,\n    focusFirstItem,\n    anchorItem: currentOpen ? selectedItem : undefined\n  });\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused) {\n      if (!focused) {\n        shouldFilter.current = false;\n        toggle.close();\n        setSuggestion(null);\n        list.focus(undefined);\n      } else {\n        focus({\n          preventScroll: true\n        });\n      }\n    }\n\n  });\n  (0, _A11y.useActiveDescendant)(ref, activeId, currentOpen, [list.getFocused()]);\n  /**\n   * Handlers\n   */\n\n  const handleClick = e => {\n    if (readOnly || isDisabled) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n    toggle();\n  };\n\n  const handleSelect = (data, originalEvent) => {\n    toggle.close();\n    shouldFilter.current = false;\n    setSuggestion(null);\n    (0, _WidgetHelpers.notify)(onSelect, [data, {\n      originalEvent\n    }]);\n    change(data, originalEvent, true);\n    focus({\n      preventScroll: true\n    });\n  };\n\n  const handleInputKeyDown = ({\n    key\n  }) => {\n    if (key === 'Backspace' || key === 'Delete') {\n      list.focus(null);\n    }\n  };\n\n  const handleInputChange = event => {\n    let idx = autoSelectMatches ? indexOf(rawData, event.target.value.toLowerCase(), accessors.text) : -1;\n    shouldFilter.current = true;\n    setSuggestion(null);\n    const nextValue = idx === -1 ? event.target.value : rawData[idx];\n    change(nextValue, event);\n    if (!nextValue) toggle.close();else toggle.open();\n  };\n\n  const handleKeyDown = e => {\n    if (readOnly) return;\n    let {\n      key,\n      altKey,\n      shiftKey\n    } = e;\n    (0, _WidgetHelpers.notify)(onKeyDown, [e]);\n    if (e.defaultPrevented) return;\n\n    const select = item => item != null && handleSelect(item, e);\n\n    const setFocused = el => {\n      if (!el) return;\n      setSuggestion(list.toDataItem(el));\n      list.focus(el);\n    };\n\n    if (key === 'End' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      setFocused(list.last());\n    } else if (key === 'Home' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      setFocused(list.first());\n    } else if (key === 'Escape' && currentOpen) {\n      e.preventDefault();\n      setSuggestion(null);\n      toggle.close();\n    } else if (key === 'Enter' && currentOpen) {\n      e.preventDefault();\n      select(list.getFocused());\n    } else if (key === 'ArrowDown') {\n      e.preventDefault();\n\n      if (currentOpen) {\n        setFocused(list.next());\n      } else {\n        return toggle.open();\n      }\n    } else if (key === 'ArrowUp') {\n      e.preventDefault();\n      if (altKey) return toggle.close();\n\n      if (currentOpen) {\n        setFocused(list.prev());\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function focus(opts) {\n    if (inputRef.current) inputRef.current.focus(opts);\n  }\n\n  function change(nextValue, originalEvent, selected = false) {\n    handleChange(nextValue, {\n      lastValue: currentValue,\n      originalEvent,\n      source: selected ? 'listbox' : 'input'\n    });\n  }\n  /**\n   * Rendering\n   */\n\n\n  (0, React.useImperativeHandle)(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = (0, _WidgetHelpers.useFirstFocusedRender)(focused, currentOpen);\n  let valueItem = accessors.findOrSelf(data, currentValue);\n  let inputValue = accessors.text(suggestion || valueItem);\n  let completeType = filter ? 'list' : 'none';\n  let popupOpen = currentOpen && (!hideEmptyPopup || !!data.length);\n  let inputReadOnly = // @ts-ignore\n  (inputProps == null ? void 0 : inputProps.readOnly) != null ? inputProps == null ? void 0 : inputProps.readOnly : readOnly;\n  let inputAddon = false;\n\n  if (!hideCaret) {\n    inputAddon = /*#__PURE__*/React.createElement(_InputAddon.default, {\n      busy: busy,\n      icon: selectIcon,\n      spinner: busySpinner,\n      onClick: handleClick,\n      disabled: !!isDisabled || isReadOnly // FIXME\n      ,\n      label: messages.openCombobox()\n    });\n  } else if (busy) {\n    inputAddon = /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      className: \"rw-btn rw-picker-caret\"\n    }, busySpinner || _Icon.Spinner);\n  }\n\n  return /*#__PURE__*/React.createElement(_Widget.default, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly\n  }, focusEvents, {\n    onKeyDown: handleKeyDown,\n    className: (0, _classnames.default)(className, 'rw-combobox')\n  }), /*#__PURE__*/React.createElement(_WidgetPicker.default, {\n    className: (0, _classnames.default)(containerClassName, hideCaret && 'rw-widget-input', hideCaret && !busy && 'rw-hide-caret')\n  }, /*#__PURE__*/React.createElement(_Input.default, _extends({}, inputProps, {\n    role: \"combobox\",\n    name: name,\n    id: inputId,\n    className: (0, _classnames.default)( // @ts-ignore\n    inputProps && inputProps.className, 'rw-combobox-input', !hideCaret && 'rw-widget-input'),\n    autoFocus: autoFocus,\n    tabIndex: tabIndex,\n    disabled: isDisabled,\n    readOnly: inputReadOnly,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": listId,\n    \"aria-autocomplete\": completeType,\n    \"aria-expanded\": currentOpen,\n    \"aria-haspopup\": true,\n    placeholder: placeholder,\n    value: inputValue,\n    onChange: handleInputChange,\n    onKeyDown: handleInputKeyDown,\n    ref: inputRef\n  })), inputAddon), /*#__PURE__*/React.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: popupOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    tabIndex: -1,\n    data: data,\n    groupBy: groupBy,\n    disabled: disabled,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    optionComponent: optionComponent,\n    value: selectedItem,\n    searchTerm: valueItem && accessors.text(valueItem) || '',\n    \"aria-hidden\": !popupOpen,\n    \"aria-labelledby\": inputId,\n    \"aria-live\": popupOpen ? 'polite' : void 0,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    ref: listRef,\n    messages: {\n      emptyList: rawData.length ? messages.emptyFilter : messages.emptyList\n    }\n  })))));\n});\nComboboxImpl.displayName = 'Combobox';\nComboboxImpl.propTypes = propTypes;\nvar _default = ComboboxImpl;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}