{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\n\nvar _slicedToArray = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _useTimeout = _interopRequireDefault(require(\"@restart/hooks/useTimeout\"));\n\nvar _AddToListOption = _interopRequireWildcard(require(\"./AddToListOption\"));\n\nvar _DropdownListInput = _interopRequireDefault(require(\"./DropdownListInput\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _FocusListContext = require(\"./FocusListContext\");\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _A11y = require(\"./A11y\");\n\nvar _Filter = require(\"./Filter\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _canShowCreate = _interopRequireDefault(require(\"./canShowCreate\"));\n\nvar _Accessors = require(\"./Accessors\");\n\nvar _useAutoFocus = _interopRequireDefault(require(\"./useAutoFocus\"));\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _Localization = require(\"./Localization\");\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _PickerCaret = _interopRequireDefault(require(\"./PickerCaret\"));\n\nvar _excluded = [\"id\", \"autoFocus\", \"textField\", \"dataKey\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"delay\", \"focusFirstItem\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"name\", \"autoComplete\", \"onSelect\", \"onCreate\", \"onKeyPress\", \"onKeyDown\", \"onClick\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"optionComponent\", \"renderValue\", \"groupBy\", \"onBlur\", \"onFocus\", \"listComponent\", \"popupComponent\", \"data\", \"messages\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar propTypes = {\n  value: _propTypes.default.any,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any,\n   *  metadata: {\n   *    lastValue: ?any,\n   *    searchTerm: ?string\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onChange: _propTypes.default.func,\n  open: _propTypes.default.bool,\n  onToggle: _propTypes.default.func,\n  data: _propTypes.default.array,\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  allowCreate: _propTypes.default.oneOf([true, false, 'onFilter']),\n\n  /**\n   * A React render prop for customizing the rendering of the DropdownList\n   * value\n   */\n  renderValue: _propTypes.default.func,\n  renderListItem: _propTypes.default.func,\n  listComponent: CustomPropTypes.elementType,\n  optionComponent: CustomPropTypes.elementType,\n  renderPopup: _propTypes.default.func,\n  renderListGroup: _propTypes.default.func,\n  groupBy: CustomPropTypes.accessor,\n\n  /**\n   *\n   * @type {(dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void}\n   */\n  onSelect: _propTypes.default.func,\n  onCreate: _propTypes.default.func,\n\n  /**\n   * @type function(searchTerm: string, metadata: { action, lastSearchTerm, originalEvent? })\n   */\n  onSearch: _propTypes.default.func,\n  searchTerm: _propTypes.default.string,\n  busy: _propTypes.default.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: _propTypes.default.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: _propTypes.default.node,\n  placeholder: _propTypes.default.string,\n  dropUp: _propTypes.default.bool,\n  popupTransition: CustomPropTypes.elementType,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  listProps: _propTypes.default.object,\n  messages: _propTypes.default.shape({\n    open: _propTypes.default.string,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message\n  })\n};\n\nfunction useSearchWordBuilder(delay) {\n  var timeout = (0, _useTimeout.default)();\n  var wordRef = (0, _react.useRef)('');\n\n  function search(character, cb) {\n    var word = (wordRef.current + character).toLowerCase();\n    if (!character) return;\n    wordRef.current = word;\n    timeout.set(function () {\n      wordRef.current = '';\n      cb(word);\n    }, delay);\n  }\n\n  return search;\n}\n/**\n * A `<select>` replacement for single value lists.\n * @public\n */\n\n\nvar DropdownListImpl = /*#__PURE__*/_react.default.forwardRef(function DropdownList(_ref, outerRef) {\n  var id = _ref.id,\n      autoFocus = _ref.autoFocus,\n      textField = _ref.textField,\n      dataKey = _ref.dataKey,\n      value = _ref.value,\n      defaultValue = _ref.defaultValue,\n      onChange = _ref.onChange,\n      open = _ref.open,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      onToggle = _ref.onToggle,\n      searchTerm = _ref.searchTerm,\n      _ref$defaultSearchTer = _ref.defaultSearchTerm,\n      defaultSearchTerm = _ref$defaultSearchTer === void 0 ? '' : _ref$defaultSearchTer,\n      onSearch = _ref.onSearch,\n      _ref$filter = _ref.filter,\n      filter = _ref$filter === void 0 ? true : _ref$filter,\n      _ref$allowCreate = _ref.allowCreate,\n      allowCreate = _ref$allowCreate === void 0 ? false : _ref$allowCreate,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 500 : _ref$delay,\n      focusFirstItem = _ref.focusFirstItem,\n      className = _ref.className,\n      containerClassName = _ref.containerClassName,\n      placeholder = _ref.placeholder,\n      busy = _ref.busy,\n      disabled = _ref.disabled,\n      readOnly = _ref.readOnly,\n      _ref$selectIcon = _ref.selectIcon,\n      selectIcon = _ref$selectIcon === void 0 ? _Icon.caretDown : _ref$selectIcon,\n      busySpinner = _ref.busySpinner,\n      dropUp = _ref.dropUp,\n      tabIndex = _ref.tabIndex,\n      popupTransition = _ref.popupTransition,\n      name = _ref.name,\n      autoComplete = _ref.autoComplete,\n      onSelect = _ref.onSelect,\n      onCreate = _ref.onCreate,\n      onKeyPress = _ref.onKeyPress,\n      onKeyDown = _ref.onKeyDown,\n      onClick = _ref.onClick,\n      inputProps = _ref.inputProps,\n      listProps = _ref.listProps,\n      popupProps = _ref.popupProps,\n      renderListItem = _ref.renderListItem,\n      renderListGroup = _ref.renderListGroup,\n      optionComponent = _ref.optionComponent,\n      renderValue = _ref.renderValue,\n      groupBy = _ref.groupBy,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      _ref$listComponent = _ref.listComponent,\n      ListComponent = _ref$listComponent === void 0 ? _List.default : _ref$listComponent,\n      _ref$popupComponent = _ref.popupComponent,\n      Popup = _ref$popupComponent === void 0 ? _Popup.default : _ref$popupComponent,\n      _ref$data = _ref.data,\n      rawData = _ref$data === void 0 ? [] : _ref$data,\n      userMessages = _ref.messages,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _ref2 = (0, _uncontrollable.useUncontrolledProp)(value, defaultValue, onChange),\n      _ref3 = _slicedToArray(_ref2, 2),\n      currentValue = _ref3[0],\n      handleChange = _ref3[1];\n\n  var _ref4 = (0, _uncontrollable.useUncontrolledProp)(open, defaultOpen, onToggle),\n      _ref5 = _slicedToArray(_ref4, 2),\n      currentOpen = _ref5[0],\n      handleOpen = _ref5[1];\n\n  var _ref6 = (0, _uncontrollable.useUncontrolledProp)(searchTerm, defaultSearchTerm, onSearch),\n      _ref7 = _slicedToArray(_ref6, 2),\n      currentSearch = _ref7[0],\n      handleSearch = _ref7[1];\n\n  var ref = (0, _react.useRef)(null);\n  var filterRef = (0, _react.useRef)(null);\n  var listRef = (0, _react.useRef)(null);\n  var inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  var listId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox');\n  var activeId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox_active_option');\n  var accessors = (0, _Accessors.useAccessors)(textField, dataKey);\n  var localizer = (0, _Localization.useLocalizer)(userMessages);\n  (0, _useAutoFocus.default)(!!autoFocus, ref);\n  var toggle = (0, _useDropdownToggle.default)(currentOpen, handleOpen);\n  var isDisabled = disabled === true; // const disabledItems = toItemArray(disabled)\n\n  var isReadOnly = !!readOnly;\n\n  var _ref8 = (0, _useFocusManager.default)(ref, {\n    disabled: isDisabled,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, {\n    didHandle: function didHandle(focused) {\n      if (focused) {\n        if (filter) focus();\n        return;\n      }\n\n      toggle.close();\n      clearSearch();\n    }\n  }),\n      _ref9 = _slicedToArray(_ref8, 2),\n      focusEvents = _ref9[0],\n      focused = _ref9[1];\n\n  var data = (0, _Filter.useFilteredData)(rawData, currentOpen ? filter : false, currentSearch, accessors.text);\n  var selectedItem = (0, _react.useMemo)(function () {\n    return data[accessors.indexOf(data, currentValue)];\n  }, [data, currentValue, accessors]);\n  var list = (0, _FocusListContext.useFocusList)({\n    activeId: activeId,\n    scope: ref,\n    focusFirstItem: focusFirstItem,\n    anchorItem: currentOpen ? selectedItem : undefined\n  });\n\n  var _ref10 = (0, _react.useState)(false),\n      _ref11 = _slicedToArray(_ref10, 2),\n      autofilling = _ref11[0],\n      setAutofilling = _ref11[1];\n\n  var nextSearchChar = useSearchWordBuilder(delay);\n  var focusedItem = list.getFocused();\n  (0, _A11y.useActiveDescendant)(ref, activeId, focusedItem && currentOpen, [focusedItem]);\n  var showCreateOption = (0, _canShowCreate.default)(allowCreate, {\n    searchTerm: currentSearch,\n    data: data,\n    accessors: accessors\n  });\n\n  var handleCreate = function handleCreate(event) {\n    (0, _WidgetHelpers.notify)(onCreate, [currentSearch]);\n    clearSearch(event);\n    toggle.close();\n    focus();\n  };\n\n  var handleSelect = function handleSelect(dataItem, originalEvent) {\n    if (readOnly || isDisabled) return;\n    if (dataItem === undefined) return;\n    originalEvent == null ? void 0 : originalEvent.preventDefault();\n\n    if (dataItem === _AddToListOption.CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    (0, _WidgetHelpers.notify)(onSelect, [dataItem, {\n      originalEvent: originalEvent\n    }]);\n    change(dataItem, originalEvent, true);\n    toggle.close();\n    focus();\n  };\n\n  var handleClick = function handleClick(e) {\n    if (readOnly || isDisabled) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n    toggle();\n    (0, _WidgetHelpers.notify)(onClick, [e]);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if (readOnly || isDisabled) return;\n    var key = e.key,\n        altKey = e.altKey,\n        ctrlKey = e.ctrlKey,\n        shiftKey = e.shiftKey;\n    (0, _WidgetHelpers.notify)(onKeyDown, [e]);\n\n    var closeWithFocus = function closeWithFocus() {\n      clearSearch();\n      toggle.close();\n      if (currentOpen) setTimeout(focus);\n    };\n\n    if (e.defaultPrevented) return;\n\n    if (key === 'End' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      list.focus(list.last());\n    } else if (key === 'Home' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      list.focus(list.first());\n    } else if (key === 'Escape' && (currentOpen || currentSearch)) {\n      e.preventDefault();\n      closeWithFocus();\n    } else if (key === 'Enter' && currentOpen && ctrlKey && showCreateOption) {\n      e.preventDefault();\n      handleCreate(e);\n    } else if ((key === 'Enter' || key === ' ' && !filter) && currentOpen) {\n      e.preventDefault();\n      if (list.hasFocused()) handleSelect(list.getFocused(), e);\n    } else if (key === 'ArrowDown') {\n      e.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n    } else if (key === 'ArrowUp') {\n      e.preventDefault();\n      if (altKey) return closeWithFocus();\n      list.focus(list.prev());\n    }\n  };\n\n  var handleKeyPress = function handleKeyPress(e) {\n    if (readOnly || isDisabled) return;\n    (0, _WidgetHelpers.notify)(onKeyPress, [e]);\n    if (e.defaultPrevented || filter) return;\n    nextSearchChar(String.fromCharCode(e.which), function (word) {\n      if (!currentOpen) return;\n\n      var isValid = function isValid(item) {\n        return _Filter.presets.startsWith(accessors.text(item).toLowerCase(), word.toLowerCase());\n      };\n\n      var _list$get = list.get(),\n          _list$get2 = _slicedToArray(_list$get, 2),\n          items = _list$get2[0],\n          focusedItem = _list$get2[1];\n\n      var len = items.length;\n      var startIdx = items.indexOf(focusedItem) + 1;\n      var offset = startIdx >= len ? 0 : startIdx;\n      var idx = 0;\n      var pointer = offset;\n\n      while (idx < len) {\n        pointer = (idx + offset) % len;\n        var item = items[pointer];\n        if (isValid(list.toDataItem(item))) break;\n        idx++;\n      }\n\n      if (idx === len) return;\n      list.focus(items[pointer]);\n    });\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    // hitting space to open\n    if (!currentOpen && !e.target.value.trim()) {\n      e.preventDefault();\n    } else {\n      search(e.target.value, e, 'input');\n    }\n\n    toggle.open();\n  };\n\n  var handleAutofillChange = function handleAutofillChange(e) {\n    var filledValue = e.target.value.toLowerCase();\n    if (filledValue === '') return void change(null);\n\n    var _iterator = _createForOfIteratorHelper(rawData),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n\n        if (String(accessors.value(item)).toLowerCase() === filledValue || accessors.text(item).toLowerCase() === filledValue) {\n          change(item, e);\n          break;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  function change(nextValue, originalEvent) {\n    var selected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (!accessors.matches(nextValue, currentValue)) {\n      (0, _WidgetHelpers.notify)(handleChange, [nextValue, {\n        originalEvent: originalEvent,\n        source: selected ? 'listbox' : 'input',\n        lastValue: currentValue,\n        searchTerm: currentSearch\n      }]);\n      clearSearch(originalEvent);\n      toggle.close();\n    }\n  }\n\n  function focus() {\n    if (filter) filterRef.current.focus();else ref.current.focus();\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent) {\n    var action = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'input';\n    if (currentSearch !== nextSearchTerm) handleSearch(nextSearchTerm, {\n      action: action,\n      originalEvent: originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n  /**\n   * Render\n   */\n\n\n  (0, _react.useImperativeHandle)(outerRef, function () {\n    return {\n      focus: focus\n    };\n  });\n  var valueItem = accessors.findOrSelf(data, currentValue);\n  var shouldRenderPopup = (0, _WidgetHelpers.useFirstFocusedRender)(focused, currentOpen);\n  var widgetProps = Object.assign({}, elementProps, {\n    role: 'combobox',\n    id: inputId,\n    //tab index when there is no filter input to take focus\n    tabIndex: filter ? -1 : tabIndex || 0,\n    // FIXME: only when item exists\n    'aria-owns': elementProps['aria-owns'] ? \"\".concat(listId, \" \").concat(elementProps['aria-owns']) : listId,\n    'aria-controls': elementProps['aria-controls'] ? \"\".concat(listId, \" \").concat(elementProps['aria-controls']) : listId,\n    'aria-expanded': !!currentOpen,\n    'aria-haspopup': 'listbox',\n    'aria-busy': !!busy,\n    'aria-live': currentOpen ? 'polite' : undefined,\n    'aria-autocomplete': 'list',\n    'aria-disabled': isDisabled,\n    'aria-readonly': isReadOnly\n  });\n  return /*#__PURE__*/_react.default.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: list.context\n  }, /*#__PURE__*/_react.default.createElement(_Widget.default, _extends({}, widgetProps, {\n    open: !!currentOpen,\n    dropUp: !!dropUp,\n    focused: !!focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    autofilling: autofilling\n  }, focusEvents, {\n    onKeyDown: handleKeyDown,\n    onKeyPress: handleKeyPress,\n    className: (0, _classnames.default)(className, 'rw-dropdown-list'),\n    ref: ref\n  }), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    onClick: handleClick,\n    tabIndex: filter ? -1 : 0,\n    className: (0, _classnames.default)(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/_react.default.createElement(_DropdownListInput.default, _extends({}, inputProps, {\n    value: valueItem,\n    dataKeyAccessor: accessors.value,\n    textAccessor: accessors.text,\n    name: name,\n    readOnly: readOnly,\n    disabled: isDisabled,\n    allowSearch: !!filter,\n    searchTerm: currentSearch,\n    ref: filterRef,\n    autoComplete: autoComplete,\n    onSearch: handleInputChange,\n    onAutofill: setAutofilling,\n    onAutofillChange: handleAutofillChange,\n    placeholder: placeholder,\n    renderValue: renderValue\n  })), /*#__PURE__*/_react.default.createElement(_PickerCaret.default, {\n    visible: true,\n    busy: busy,\n    icon: selectIcon,\n    spinner: busySpinner\n  })), shouldRenderPopup && /*#__PURE__*/_react.default.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntered: focus,\n    onEntering: function onEntering() {\n      return listRef.current.scrollIntoView();\n    }\n  }), /*#__PURE__*/_react.default.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    groupBy: groupBy,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    optionComponent: optionComponent,\n    value: selectedItem,\n    onChange: function onChange(d, meta) {\n      return handleSelect(d, meta.originalEvent);\n    },\n    \"aria-live\": currentOpen ? 'polite' : undefined,\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: rawData.length ? localizer.messages.emptyFilter : localizer.messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/_react.default.createElement(_AddToListOption.default, {\n    onSelect: handleCreate\n  }, localizer.messages.createOption(currentValue, currentSearch || '')))));\n});\n\nDropdownListImpl.displayName = 'DropdownList';\nDropdownListImpl.propTypes = propTypes;\nvar _default = DropdownListImpl;\nexports.default = _default;","map":{"version":3,"sources":["/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/react-widgets/cjs/DropdownList.js"],"names":["exports","__esModule","default","_classnames","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_uncontrollable","_useTimeout","_AddToListOption","_DropdownListInput","_Icon","_List","_FocusListContext","_Popup","_Widget","_WidgetPicker","_A11y","_Filter","CustomPropTypes","_canShowCreate","_Accessors","_useAutoFocus","_useDropdownToggle","_useFocusManager","_Localization","_WidgetHelpers","_PickerCaret","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","propTypes","value","any","onChange","func","open","bool","onToggle","data","array","dataKey","accessor","textField","allowCreate","oneOf","renderValue","renderListItem","listComponent","elementType","optionComponent","renderPopup","renderListGroup","groupBy","onSelect","onCreate","onSearch","searchTerm","string","busy","selectIcon","node","busySpinner","placeholder","dropUp","popupTransition","disabled","acceptsArray","readOnly","containerClassName","inputProps","object","listProps","messages","shape","emptyList","message","emptyFilter","createOption","useSearchWordBuilder","delay","timeout","wordRef","useRef","search","character","cb","word","current","toLowerCase","DropdownListImpl","forwardRef","DropdownList","_ref","outerRef","id","autoFocus","defaultValue","defaultOpen","defaultSearchTerm","filter","focusFirstItem","className","caretDown","tabIndex","name","autoComplete","onKeyPress","onKeyDown","onClick","popupProps","onBlur","onFocus","ListComponent","popupComponent","Popup","rawData","userMessages","elementProps","useUncontrolledProp","currentValue","handleChange","currentOpen","handleOpen","currentSearch","handleSearch","ref","filterRef","listRef","inputId","useInstanceId","listId","activeId","accessors","useAccessors","localizer","useLocalizer","toggle","isDisabled","isReadOnly","didHandle","focused","focus","close","clearSearch","focusEvents","useFilteredData","text","selectedItem","useMemo","list","useFocusList","scope","anchorItem","undefined","useState","autofilling","setAutofilling","nextSearchChar","focusedItem","getFocused","useActiveDescendant","showCreateOption","handleCreate","event","notify","handleSelect","dataItem","originalEvent","preventDefault","CREATE_OPTION","change","handleClick","e","handleKeyDown","altKey","ctrlKey","shiftKey","closeWithFocus","setTimeout","defaultPrevented","last","first","hasFocused","next","prev","handleKeyPress","String","fromCharCode","which","isValid","item","presets","startsWith","items","len","startIdx","offset","idx","pointer","toDataItem","handleInputChange","trim","handleAutofillChange","filledValue","nextValue","selected","matches","lastValue","nextSearchTerm","action","lastSearchTerm","useImperativeHandle","valueItem","findOrSelf","shouldRenderPopup","useFirstFocusedRender","widgetProps","role","createElement","FocusListContext","Provider","context","dataKeyAccessor","textAccessor","allowSearch","onAutofill","onAutofillChange","visible","icon","spinner","transition","onEntered","onEntering","scrollIntoView","renderItem","renderGroup","d","meta","displayName","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _useTimeout = _interopRequireDefault(require(\"@restart/hooks/useTimeout\"));\n\nvar _AddToListOption = _interopRequireWildcard(require(\"./AddToListOption\"));\n\nvar _DropdownListInput = _interopRequireDefault(require(\"./DropdownListInput\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _FocusListContext = require(\"./FocusListContext\");\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _A11y = require(\"./A11y\");\n\nvar _Filter = require(\"./Filter\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _canShowCreate = _interopRequireDefault(require(\"./canShowCreate\"));\n\nvar _Accessors = require(\"./Accessors\");\n\nvar _useAutoFocus = _interopRequireDefault(require(\"./useAutoFocus\"));\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _Localization = require(\"./Localization\");\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _PickerCaret = _interopRequireDefault(require(\"./PickerCaret\"));\n\nconst _excluded = [\"id\", \"autoFocus\", \"textField\", \"dataKey\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"delay\", \"focusFirstItem\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"name\", \"autoComplete\", \"onSelect\", \"onCreate\", \"onKeyPress\", \"onKeyDown\", \"onClick\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"optionComponent\", \"renderValue\", \"groupBy\", \"onBlur\", \"onFocus\", \"listComponent\", \"popupComponent\", \"data\", \"messages\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst propTypes = {\n  value: _propTypes.default.any,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any,\n   *  metadata: {\n   *    lastValue: ?any,\n   *    searchTerm: ?string\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onChange: _propTypes.default.func,\n  open: _propTypes.default.bool,\n  onToggle: _propTypes.default.func,\n  data: _propTypes.default.array,\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  allowCreate: _propTypes.default.oneOf([true, false, 'onFilter']),\n\n  /**\n   * A React render prop for customizing the rendering of the DropdownList\n   * value\n   */\n  renderValue: _propTypes.default.func,\n  renderListItem: _propTypes.default.func,\n  listComponent: CustomPropTypes.elementType,\n  optionComponent: CustomPropTypes.elementType,\n  renderPopup: _propTypes.default.func,\n  renderListGroup: _propTypes.default.func,\n  groupBy: CustomPropTypes.accessor,\n\n  /**\n   *\n   * @type {(dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void}\n   */\n  onSelect: _propTypes.default.func,\n  onCreate: _propTypes.default.func,\n\n  /**\n   * @type function(searchTerm: string, metadata: { action, lastSearchTerm, originalEvent? })\n   */\n  onSearch: _propTypes.default.func,\n  searchTerm: _propTypes.default.string,\n  busy: _propTypes.default.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: _propTypes.default.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: _propTypes.default.node,\n  placeholder: _propTypes.default.string,\n  dropUp: _propTypes.default.bool,\n  popupTransition: CustomPropTypes.elementType,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  listProps: _propTypes.default.object,\n  messages: _propTypes.default.shape({\n    open: _propTypes.default.string,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message\n  })\n};\n\nfunction useSearchWordBuilder(delay) {\n  const timeout = (0, _useTimeout.default)();\n  const wordRef = (0, _react.useRef)('');\n\n  function search(character, cb) {\n    let word = (wordRef.current + character).toLowerCase();\n    if (!character) return;\n    wordRef.current = word;\n    timeout.set(() => {\n      wordRef.current = '';\n      cb(word);\n    }, delay);\n  }\n\n  return search;\n}\n\n/**\n * A `<select>` replacement for single value lists.\n * @public\n */\nconst DropdownListImpl = /*#__PURE__*/_react.default.forwardRef(function DropdownList(_ref, outerRef) {\n  let {\n    id,\n    autoFocus,\n    textField,\n    dataKey,\n    value,\n    defaultValue,\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    searchTerm,\n    defaultSearchTerm = '',\n    onSearch,\n    filter = true,\n    allowCreate = false,\n    delay = 500,\n    focusFirstItem,\n    className,\n    containerClassName,\n    placeholder,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon = _Icon.caretDown,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    name,\n    autoComplete,\n    onSelect,\n    onCreate,\n    onKeyPress,\n    onKeyDown,\n    onClick,\n    inputProps,\n    listProps,\n    popupProps,\n    renderListItem,\n    renderListGroup,\n    optionComponent,\n    renderValue,\n    groupBy,\n    onBlur,\n    onFocus,\n    listComponent: ListComponent = _List.default,\n    popupComponent: Popup = _Popup.default,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [currentValue, handleChange] = (0, _uncontrollable.useUncontrolledProp)(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = (0, _uncontrollable.useUncontrolledProp)(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = (0, _uncontrollable.useUncontrolledProp)(searchTerm, defaultSearchTerm, onSearch);\n  const ref = (0, _react.useRef)(null);\n  const filterRef = (0, _react.useRef)(null);\n  const listRef = (0, _react.useRef)(null);\n  const inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  const listId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox');\n  const activeId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox_active_option');\n  const accessors = (0, _Accessors.useAccessors)(textField, dataKey);\n  const localizer = (0, _Localization.useLocalizer)(userMessages);\n  (0, _useAutoFocus.default)(!!autoFocus, ref);\n  const toggle = (0, _useDropdownToggle.default)(currentOpen, handleOpen);\n  const isDisabled = disabled === true; // const disabledItems = toItemArray(disabled)\n\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused) {\n      if (focused) {\n        if (filter) focus();\n        return;\n      }\n\n      toggle.close();\n      clearSearch();\n    }\n\n  });\n  const data = (0, _Filter.useFilteredData)(rawData, currentOpen ? filter : false, currentSearch, accessors.text);\n  const selectedItem = (0, _react.useMemo)(() => data[accessors.indexOf(data, currentValue)], [data, currentValue, accessors]);\n  const list = (0, _FocusListContext.useFocusList)({\n    activeId,\n    scope: ref,\n    focusFirstItem,\n    anchorItem: currentOpen ? selectedItem : undefined\n  });\n  const [autofilling, setAutofilling] = (0, _react.useState)(false);\n  const nextSearchChar = useSearchWordBuilder(delay);\n  const focusedItem = list.getFocused();\n  (0, _A11y.useActiveDescendant)(ref, activeId, focusedItem && currentOpen, [focusedItem]);\n  const showCreateOption = (0, _canShowCreate.default)(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    accessors\n  });\n\n  const handleCreate = event => {\n    (0, _WidgetHelpers.notify)(onCreate, [currentSearch]);\n    clearSearch(event);\n    toggle.close();\n    focus();\n  };\n\n  const handleSelect = (dataItem, originalEvent) => {\n    if (readOnly || isDisabled) return;\n    if (dataItem === undefined) return;\n    originalEvent == null ? void 0 : originalEvent.preventDefault();\n\n    if (dataItem === _AddToListOption.CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    (0, _WidgetHelpers.notify)(onSelect, [dataItem, {\n      originalEvent\n    }]);\n    change(dataItem, originalEvent, true);\n    toggle.close();\n    focus();\n  };\n\n  const handleClick = e => {\n    if (readOnly || isDisabled) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n    toggle();\n    (0, _WidgetHelpers.notify)(onClick, [e]);\n  };\n\n  const handleKeyDown = e => {\n    if (readOnly || isDisabled) return;\n    let {\n      key,\n      altKey,\n      ctrlKey,\n      shiftKey\n    } = e;\n    (0, _WidgetHelpers.notify)(onKeyDown, [e]);\n\n    let closeWithFocus = () => {\n      clearSearch();\n      toggle.close();\n      if (currentOpen) setTimeout(focus);\n    };\n\n    if (e.defaultPrevented) return;\n\n    if (key === 'End' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      list.focus(list.last());\n    } else if (key === 'Home' && currentOpen && !shiftKey) {\n      e.preventDefault();\n      list.focus(list.first());\n    } else if (key === 'Escape' && (currentOpen || currentSearch)) {\n      e.preventDefault();\n      closeWithFocus();\n    } else if (key === 'Enter' && currentOpen && ctrlKey && showCreateOption) {\n      e.preventDefault();\n      handleCreate(e);\n    } else if ((key === 'Enter' || key === ' ' && !filter) && currentOpen) {\n      e.preventDefault();\n      if (list.hasFocused()) handleSelect(list.getFocused(), e);\n    } else if (key === 'ArrowDown') {\n      e.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n    } else if (key === 'ArrowUp') {\n      e.preventDefault();\n      if (altKey) return closeWithFocus();\n      list.focus(list.prev());\n    }\n  };\n\n  const handleKeyPress = e => {\n    if (readOnly || isDisabled) return;\n    (0, _WidgetHelpers.notify)(onKeyPress, [e]);\n    if (e.defaultPrevented || filter) return;\n    nextSearchChar(String.fromCharCode(e.which), word => {\n      if (!currentOpen) return;\n\n      let isValid = item => _Filter.presets.startsWith(accessors.text(item).toLowerCase(), word.toLowerCase());\n\n      const [items, focusedItem] = list.get();\n      const len = items.length;\n      const startIdx = items.indexOf(focusedItem) + 1;\n      const offset = startIdx >= len ? 0 : startIdx;\n      let idx = 0;\n      let pointer = offset;\n\n      while (idx < len) {\n        pointer = (idx + offset) % len;\n        let item = items[pointer];\n        if (isValid(list.toDataItem(item))) break;\n        idx++;\n      }\n\n      if (idx === len) return;\n      list.focus(items[pointer]);\n    });\n  };\n\n  const handleInputChange = e => {\n    // hitting space to open\n    if (!currentOpen && !e.target.value.trim()) {\n      e.preventDefault();\n    } else {\n      search(e.target.value, e, 'input');\n    }\n\n    toggle.open();\n  };\n\n  const handleAutofillChange = e => {\n    let filledValue = e.target.value.toLowerCase();\n    if (filledValue === '') return void change(null);\n\n    for (const item of rawData) {\n      if (String(accessors.value(item)).toLowerCase() === filledValue || accessors.text(item).toLowerCase() === filledValue) {\n        change(item, e);\n        break;\n      }\n    }\n  };\n\n  function change(nextValue, originalEvent, selected = false) {\n    if (!accessors.matches(nextValue, currentValue)) {\n      (0, _WidgetHelpers.notify)(handleChange, [nextValue, {\n        originalEvent,\n        source: selected ? 'listbox' : 'input',\n        lastValue: currentValue,\n        searchTerm: currentSearch\n      }]);\n      clearSearch(originalEvent);\n      toggle.close();\n    }\n  }\n\n  function focus() {\n    if (filter) filterRef.current.focus();else ref.current.focus();\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent, action = 'input') {\n    if (currentSearch !== nextSearchTerm) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n  /**\n   * Render\n   */\n\n\n  (0, _react.useImperativeHandle)(outerRef, () => ({\n    focus\n  }));\n  let valueItem = accessors.findOrSelf(data, currentValue);\n  let shouldRenderPopup = (0, _WidgetHelpers.useFirstFocusedRender)(focused, currentOpen);\n  const widgetProps = Object.assign({}, elementProps, {\n    role: 'combobox',\n    id: inputId,\n    //tab index when there is no filter input to take focus\n    tabIndex: filter ? -1 : tabIndex || 0,\n    // FIXME: only when item exists\n    'aria-owns': elementProps['aria-owns'] ? `${listId} ${elementProps['aria-owns']}` : listId,\n    'aria-controls': elementProps['aria-controls'] ? `${listId} ${elementProps['aria-controls']}` : listId,\n    'aria-expanded': !!currentOpen,\n    'aria-haspopup': 'listbox',\n    'aria-busy': !!busy,\n    'aria-live': currentOpen ? 'polite' : undefined,\n    'aria-autocomplete': 'list',\n    'aria-disabled': isDisabled,\n    'aria-readonly': isReadOnly\n  });\n  return /*#__PURE__*/_react.default.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: list.context\n  }, /*#__PURE__*/_react.default.createElement(_Widget.default, _extends({}, widgetProps, {\n    open: !!currentOpen,\n    dropUp: !!dropUp,\n    focused: !!focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    autofilling: autofilling\n  }, focusEvents, {\n    onKeyDown: handleKeyDown,\n    onKeyPress: handleKeyPress,\n    className: (0, _classnames.default)(className, 'rw-dropdown-list'),\n    ref: ref\n  }), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    onClick: handleClick,\n    tabIndex: filter ? -1 : 0,\n    className: (0, _classnames.default)(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/_react.default.createElement(_DropdownListInput.default, _extends({}, inputProps, {\n    value: valueItem,\n    dataKeyAccessor: accessors.value,\n    textAccessor: accessors.text,\n    name: name,\n    readOnly: readOnly,\n    disabled: isDisabled,\n    allowSearch: !!filter,\n    searchTerm: currentSearch,\n    ref: filterRef,\n    autoComplete: autoComplete,\n    onSearch: handleInputChange,\n    onAutofill: setAutofilling,\n    onAutofillChange: handleAutofillChange,\n    placeholder: placeholder,\n    renderValue: renderValue\n  })), /*#__PURE__*/_react.default.createElement(_PickerCaret.default, {\n    visible: true,\n    busy: busy,\n    icon: selectIcon,\n    spinner: busySpinner\n  })), shouldRenderPopup && /*#__PURE__*/_react.default.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntered: focus,\n    onEntering: () => listRef.current.scrollIntoView()\n  }), /*#__PURE__*/_react.default.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    groupBy: groupBy,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    optionComponent: optionComponent,\n    value: selectedItem,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": currentOpen ? 'polite' : undefined,\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: rawData.length ? localizer.messages.emptyFilter : localizer.messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/_react.default.createElement(_AddToListOption.default, {\n    onSelect: handleCreate\n  }, localizer.messages.createOption(currentValue, currentSearch || '')))));\n});\n\nDropdownListImpl.displayName = 'DropdownList';\nDropdownListImpl.propTypes = propTypes;\nvar _default = DropdownListImpl;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}