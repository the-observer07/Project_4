{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Button = _interopRequireDefault(require(\"./Button\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _Localization = require(\"./Localization\");\n\nvar _NumberInput = _interopRequireDefault(require(\"./NumberInput\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\n\nvar _excluded = [\"className\", \"containerClassName\", \"disabled\", \"readOnly\", \"value\", \"min\", \"max\", \"incrementIcon\", \"decrementIcon\", \"placeholder\", \"autoFocus\", \"tabIndex\", \"parse\", \"name\", \"onChange\", \"messages\", \"format\", \"onKeyDown\", \"onKeyPress\", \"onKeyUp\", \"inputProps\", \"precision\", \"step\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n} // my tests in ie11/chrome/FF indicate that keyDown repeats\n// at about 35ms+/- 5ms after an initial 500ms delay. callback fires on the leading edge\n\n\nfunction createInterval(callback) {\n  var _fn;\n\n  var id;\n\n  var cancel = function cancel() {\n    return clearTimeout(id);\n  };\n\n  id = window.setTimeout(_fn = function fn() {\n    id = window.setTimeout(_fn, 35);\n    callback(); //fire after everything in case the user cancels on the first call\n  }, 500);\n  return cancel;\n}\n\nfunction clamp(value, min, max) {\n  max = max == null ? Infinity : max;\n  min = min == null ? -Infinity : min;\n  if (value == null || value === '') return null;\n  return Math.max(Math.min(typeof value == 'string' ? parseInt(value) : value, max), min);\n}\n\nvar propTypes = {\n  /**\n   * @example ['valuePicker', [ [1, null] ]]\n   */\n  value: _propTypes.default.number,\n\n  /**\n   * @example ['onChangePicker', [ [1, null] ]]\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * The minimum number that the NumberPicker value.\n   * @example ['prop', ['min', 0]]\n   */\n  min: _propTypes.default.number,\n\n  /**\n   * The maximum number that the NumberPicker value.\n   *\n   * @example ['prop', ['max', 0]]\n   */\n  max: _propTypes.default.number,\n\n  /**\n   * Amount to increase or decrease value when using the spinner buttons.\n   *\n   * @example ['prop', ['step', 5]]\n   */\n  step: _propTypes.default.number,\n\n  /**\n   * Specify how precise the `value` should be when typing, incrementing, or decrementing the value.\n   * When empty, precision is parsed from the current `format` and culture.\n   */\n  precision: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.oneOf(['auto'])]),\n\n  /**\n   * A format string used to display the number value. Localizer dependent, read about [localization](localization) for more info.\n   *\n   * @example ['prop', { max: 1, min: -1 , defaultValue: 0.2585, format: \"{ style: 'percent' }\" }]\n   */\n  format: _propTypes.default.any,\n  parse: _propTypes.default.func,\n  incrementIcon: _propTypes.default.node,\n  decrementIcon: _propTypes.default.node,\n\n  /** @ignore */\n  tabIndex: _propTypes.default.any,\n  name: _propTypes.default.string,\n  placeholder: _propTypes.default.string,\n  onKeyDown: _propTypes.default.func,\n  onKeyPress: _propTypes.default.func,\n  onKeyUp: _propTypes.default.func,\n  autoFocus: _propTypes.default.bool,\n\n  /**\n   * @example ['disabled', ['1']]\n   */\n  disabled: CustomPropTypes.disabled,\n\n  /**\n   * @example ['readOnly', ['1.5']]\n   */\n  readOnly: CustomPropTypes.disabled,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  messages: _propTypes.default.shape({\n    increment: _propTypes.default.string,\n    decrement: _propTypes.default.string\n  }),\n\n  /** @ignore */\n  localizer: _propTypes.default.object\n};\nvar defaultProps = {\n  incrementIcon: _Icon.caretUp,\n  decrementIcon: _Icon.caretDown,\n  min: -Infinity,\n  max: Infinity,\n  step: 1,\n  precision: 'auto'\n};\n/**\n * ---\n * localized: true\n * shortcuts:\n *   - { key: down arrow, label: decrement value }\n *   - { key: up arrow, label: increment value }\n *   - { key: home, label: set value to minimum value, if finite }\n *   - { key: end, label: set value to maximum value, if finite }\n * ---\n *\n * @public\n */\n\nfunction NumberPicker(uncontrolledProps) {\n  var _useUncontrolled = (0, _uncontrollable.useUncontrolled)(uncontrolledProps, {\n    value: 'onChange'\n  }),\n      className = _useUncontrolled.className,\n      containerClassName = _useUncontrolled.containerClassName,\n      disabled = _useUncontrolled.disabled,\n      readOnly = _useUncontrolled.readOnly,\n      value = _useUncontrolled.value,\n      min = _useUncontrolled.min,\n      max = _useUncontrolled.max,\n      incrementIcon = _useUncontrolled.incrementIcon,\n      decrementIcon = _useUncontrolled.decrementIcon,\n      placeholder = _useUncontrolled.placeholder,\n      autoFocus = _useUncontrolled.autoFocus,\n      tabIndex = _useUncontrolled.tabIndex,\n      parse = _useUncontrolled.parse,\n      name = _useUncontrolled.name,\n      onChange = _useUncontrolled.onChange,\n      messages = _useUncontrolled.messages,\n      format = _useUncontrolled.format,\n      onKeyDown = _useUncontrolled.onKeyDown,\n      onKeyPress = _useUncontrolled.onKeyPress,\n      onKeyUp = _useUncontrolled.onKeyUp,\n      inputProps = _useUncontrolled.inputProps,\n      precision = _useUncontrolled.precision,\n      pStep = _useUncontrolled.step,\n      elementProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var localizer = (0, _Localization.useLocalizer)(messages, {\n    number: format\n  });\n  var ref = (0, _react.useRef)(null);\n  var inputRef = (0, _react.useRef)(null);\n  var repeaterRef = (0, _react.useRef)(null);\n\n  var _ref = (0, _useFocusManager.default)(ref, uncontrolledProps, {\n    willHandle: function willHandle(focused) {\n      if (focused) focus();\n    }\n  }),\n      _ref2 = _slicedToArray(_ref, 2),\n      focusEvents = _ref2[0],\n      focused = _ref2[1];\n\n  var handleMouseDown = (0, _useEventCallback.default)(function (direction, event) {\n    if (event) event.persist();\n    var method = direction === 'UP' ? increment : decrement;\n    var value = method(event),\n        atTop = direction === 'UP' && value === max,\n        atBottom = direction === 'DOWN' && value === min;\n    if (atTop || atBottom) handleMouseUp();else if (!repeaterRef.current) {\n      repeaterRef.current = createInterval(function () {\n        handleMouseDown(direction, event);\n      });\n    }\n  });\n  var handleMouseUp = (0, _useEventCallback.default)(function () {\n    if (!repeaterRef.current) return;\n    repeaterRef.current();\n    repeaterRef.current = null;\n  });\n  var handleKeyDown = (0, _useEventCallback.default)(function (event) {\n    if (readOnly) return;\n    var key = event.key;\n    (0, _WidgetHelpers.notify)(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n    if (key === 'End' && isFinite(max)) handleChange(max, event);else if (key === 'Home' && isFinite(min)) handleChange(min, event);else if (key === 'ArrowDown') {\n      event.preventDefault();\n      decrement(event);\n    } else if (key === 'ArrowUp') {\n      event.preventDefault();\n      increment(event);\n    }\n  });\n\n  var handleChange = function handleChange(rawValue) {\n    var originalEvent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var nextValue = clamp(rawValue, min, max);\n    if (value !== nextValue) (0, _WidgetHelpers.notify)(onChange, [nextValue, {\n      rawValue: rawValue,\n      originalEvent: originalEvent,\n      lastValue: value\n    }]);\n  };\n\n  function focus() {\n    var _inputRef$current;\n\n    (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.focus();\n  }\n\n  function increment(event) {\n    return step(pStep, event);\n  }\n\n  function decrement(event) {\n    return step(-pStep, event);\n  }\n\n  function step(amount, event) {\n    var nextValue = (value || 0) + amount;\n    var p = precision === 'auto' ? Math.max(getPrecision(value || 0), getPrecision(amount)) : precision;\n    handleChange(p != null ? parseFloat(nextValue.toFixed(p)) : nextValue, event);\n    return nextValue;\n  }\n\n  var clampedValue = clamp(value, min, max);\n  return /*#__PURE__*/_react.default.createElement(_Widget.default, _extends({}, elementProps, {\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    ref: ref,\n    className: (0, _classnames.default)(className, 'rw-number-picker')\n  }), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    className: containerClassName\n  }, /*#__PURE__*/_react.default.createElement(_NumberInput.default, _extends({}, inputProps, {\n    role: \"spinbutton\",\n    tabIndex: tabIndex,\n    value: clampedValue,\n    placeholder: placeholder,\n    autoFocus: autoFocus,\n    editing: focused,\n    localizer: localizer,\n    parse: parse,\n    name: name,\n    min: min,\n    max: max,\n    disabled: disabled,\n    readOnly: readOnly,\n    onChange: handleChange,\n    onKeyPress: onKeyPress,\n    onKeyUp: onKeyUp,\n    innerRef: inputRef\n  })), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"rw-input-addon rw-number-picker-spinners\"\n  }, /*#__PURE__*/_react.default.createElement(_Button.default, {\n    icon: incrementIcon,\n    className: \"rw-picker-btn\",\n    disabled: clampedValue === max || disabled || readOnly,\n    label: localizer.messages.increment({\n      value: clampedValue,\n      min: min,\n      max: max\n    }),\n    onMouseUp: function onMouseUp() {\n      return handleMouseUp();\n    },\n    onMouseDown: function onMouseDown(e) {\n      return handleMouseDown('UP', e);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return handleMouseUp();\n    }\n  }), /*#__PURE__*/_react.default.createElement(_Button.default, {\n    icon: decrementIcon,\n    className: \"rw-picker-btn\",\n    disabled: clampedValue === min || disabled || readOnly,\n    label: localizer.messages.decrement({\n      value: clampedValue,\n      min: min,\n      max: max\n    }),\n    onMouseUp: function onMouseUp() {\n      return handleMouseUp();\n    },\n    onMouseDown: function onMouseDown(e) {\n      return handleMouseDown('DOWN', e);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return handleMouseUp();\n    }\n  }))));\n}\n\n;\nNumberPicker.propTypes = propTypes;\nNumberPicker.defaultProps = defaultProps;\nvar _default = NumberPicker;\nexports.default = _default;\n\nfunction getPrecision(a) {\n  if (!isFinite(a)) return 0;\n  var e = 1;\n  var p = 0;\n\n  while (Math.round(a * e) / e !== a) {\n    e *= 10;\n    p++;\n  }\n\n  return p;\n}","map":{"version":3,"sources":["/Users/inspireadmin/Documents/GitHub/Project_2/node_modules/react-widgets/cjs/NumberPicker.js"],"names":["exports","__esModule","default","_classnames","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_uncontrollable","_Button","_Icon","_Localization","_NumberInput","_Widget","_WidgetPicker","CustomPropTypes","_useFocusManager","_WidgetHelpers","_useEventCallback","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","createInterval","callback","fn","id","cancel","clearTimeout","window","setTimeout","clamp","value","min","max","Infinity","Math","parseInt","propTypes","number","onChange","func","step","precision","oneOfType","oneOf","format","any","parse","incrementIcon","node","decrementIcon","tabIndex","name","string","placeholder","onKeyDown","onKeyPress","onKeyUp","autoFocus","bool","disabled","readOnly","containerClassName","inputProps","object","messages","shape","increment","decrement","localizer","defaultProps","caretUp","caretDown","NumberPicker","uncontrolledProps","_useUncontrolled","useUncontrolled","className","pStep","elementProps","useLocalizer","ref","useRef","inputRef","repeaterRef","willHandle","focused","focus","focusEvents","handleMouseDown","direction","event","persist","method","atTop","atBottom","handleMouseUp","current","handleKeyDown","notify","defaultPrevented","isFinite","handleChange","preventDefault","rawValue","originalEvent","nextValue","lastValue","_inputRef$current","amount","p","getPrecision","parseFloat","toFixed","clampedValue","createElement","role","editing","innerRef","icon","label","onMouseUp","onMouseDown","e","onMouseLeave","_default","a","round"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _Button = _interopRequireDefault(require(\"./Button\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _Localization = require(\"./Localization\");\n\nvar _NumberInput = _interopRequireDefault(require(\"./NumberInput\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\n\nconst _excluded = [\"className\", \"containerClassName\", \"disabled\", \"readOnly\", \"value\", \"min\", \"max\", \"incrementIcon\", \"decrementIcon\", \"placeholder\", \"autoFocus\", \"tabIndex\", \"parse\", \"name\", \"onChange\", \"messages\", \"format\", \"onKeyDown\", \"onKeyPress\", \"onKeyUp\", \"inputProps\", \"precision\", \"step\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n// my tests in ie11/chrome/FF indicate that keyDown repeats\n// at about 35ms+/- 5ms after an initial 500ms delay. callback fires on the leading edge\nfunction createInterval(callback) {\n  let fn;\n  let id;\n\n  const cancel = () => clearTimeout(id);\n\n  id = window.setTimeout(fn = () => {\n    id = window.setTimeout(fn, 35);\n    callback(); //fire after everything in case the user cancels on the first call\n  }, 500);\n  return cancel;\n}\n\nfunction clamp(value, min, max) {\n  max = max == null ? Infinity : max;\n  min = min == null ? -Infinity : min;\n  if (value == null || value === '') return null;\n  return Math.max(Math.min(typeof value == 'string' ? parseInt(value) : value, max), min);\n}\n\nconst propTypes = {\n  /**\n   * @example ['valuePicker', [ [1, null] ]]\n   */\n  value: _propTypes.default.number,\n\n  /**\n   * @example ['onChangePicker', [ [1, null] ]]\n   */\n  onChange: _propTypes.default.func,\n\n  /**\n   * The minimum number that the NumberPicker value.\n   * @example ['prop', ['min', 0]]\n   */\n  min: _propTypes.default.number,\n\n  /**\n   * The maximum number that the NumberPicker value.\n   *\n   * @example ['prop', ['max', 0]]\n   */\n  max: _propTypes.default.number,\n\n  /**\n   * Amount to increase or decrease value when using the spinner buttons.\n   *\n   * @example ['prop', ['step', 5]]\n   */\n  step: _propTypes.default.number,\n\n  /**\n   * Specify how precise the `value` should be when typing, incrementing, or decrementing the value.\n   * When empty, precision is parsed from the current `format` and culture.\n   */\n  precision: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.oneOf(['auto'])]),\n\n  /**\n   * A format string used to display the number value. Localizer dependent, read about [localization](localization) for more info.\n   *\n   * @example ['prop', { max: 1, min: -1 , defaultValue: 0.2585, format: \"{ style: 'percent' }\" }]\n   */\n  format: _propTypes.default.any,\n  parse: _propTypes.default.func,\n  incrementIcon: _propTypes.default.node,\n  decrementIcon: _propTypes.default.node,\n\n  /** @ignore */\n  tabIndex: _propTypes.default.any,\n  name: _propTypes.default.string,\n  placeholder: _propTypes.default.string,\n  onKeyDown: _propTypes.default.func,\n  onKeyPress: _propTypes.default.func,\n  onKeyUp: _propTypes.default.func,\n  autoFocus: _propTypes.default.bool,\n\n  /**\n   * @example ['disabled', ['1']]\n   */\n  disabled: CustomPropTypes.disabled,\n\n  /**\n   * @example ['readOnly', ['1.5']]\n   */\n  readOnly: CustomPropTypes.disabled,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  messages: _propTypes.default.shape({\n    increment: _propTypes.default.string,\n    decrement: _propTypes.default.string\n  }),\n\n  /** @ignore */\n  localizer: _propTypes.default.object\n};\nconst defaultProps = {\n  incrementIcon: _Icon.caretUp,\n  decrementIcon: _Icon.caretDown,\n  min: -Infinity,\n  max: Infinity,\n  step: 1,\n  precision: 'auto'\n};\n\n/**\n * ---\n * localized: true\n * shortcuts:\n *   - { key: down arrow, label: decrement value }\n *   - { key: up arrow, label: increment value }\n *   - { key: home, label: set value to minimum value, if finite }\n *   - { key: end, label: set value to maximum value, if finite }\n * ---\n *\n * @public\n */\nfunction NumberPicker(uncontrolledProps) {\n  const _useUncontrolled = (0, _uncontrollable.useUncontrolled)(uncontrolledProps, {\n    value: 'onChange'\n  }),\n        {\n    className,\n    containerClassName,\n    disabled,\n    readOnly,\n    value,\n    min,\n    max,\n    incrementIcon,\n    decrementIcon,\n    placeholder,\n    autoFocus,\n    tabIndex,\n    parse,\n    name,\n    onChange,\n    messages,\n    format,\n    onKeyDown,\n    onKeyPress,\n    onKeyUp,\n    inputProps,\n    precision,\n    step: pStep\n  } = _useUncontrolled,\n        elementProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  const localizer = (0, _Localization.useLocalizer)(messages, {\n    number: format\n  });\n  const ref = (0, _react.useRef)(null);\n  const inputRef = (0, _react.useRef)(null);\n  const repeaterRef = (0, _react.useRef)(null);\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, uncontrolledProps, {\n    willHandle(focused) {\n      if (focused) focus();\n    }\n\n  });\n  const handleMouseDown = (0, _useEventCallback.default)((direction, event) => {\n    if (event) event.persist();\n    let method = direction === 'UP' ? increment : decrement;\n    let value = method(event),\n        atTop = direction === 'UP' && value === max,\n        atBottom = direction === 'DOWN' && value === min;\n    if (atTop || atBottom) handleMouseUp();else if (!repeaterRef.current) {\n      repeaterRef.current = createInterval(() => {\n        handleMouseDown(direction, event);\n      });\n    }\n  });\n  const handleMouseUp = (0, _useEventCallback.default)(() => {\n    if (!repeaterRef.current) return;\n    repeaterRef.current();\n    repeaterRef.current = null;\n  });\n  const handleKeyDown = (0, _useEventCallback.default)(event => {\n    if (readOnly) return;\n    let key = event.key;\n    (0, _WidgetHelpers.notify)(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n    if (key === 'End' && isFinite(max)) handleChange(max, event);else if (key === 'Home' && isFinite(min)) handleChange(min, event);else if (key === 'ArrowDown') {\n      event.preventDefault();\n      decrement(event);\n    } else if (key === 'ArrowUp') {\n      event.preventDefault();\n      increment(event);\n    }\n  });\n\n  const handleChange = (rawValue, originalEvent = null) => {\n    let nextValue = clamp(rawValue, min, max);\n    if (value !== nextValue) (0, _WidgetHelpers.notify)(onChange, [nextValue, {\n      rawValue,\n      originalEvent,\n      lastValue: value\n    }]);\n  };\n\n  function focus() {\n    var _inputRef$current;\n\n    (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.focus();\n  }\n\n  function increment(event) {\n    return step(pStep, event);\n  }\n\n  function decrement(event) {\n    return step(-pStep, event);\n  }\n\n  function step(amount, event) {\n    const nextValue = (value || 0) + amount;\n    let p = precision === 'auto' ? Math.max(getPrecision(value || 0), getPrecision(amount)) : precision;\n    handleChange(p != null ? parseFloat(nextValue.toFixed(p)) : nextValue, event);\n    return nextValue;\n  }\n\n  const clampedValue = clamp(value, min, max);\n  return /*#__PURE__*/_react.default.createElement(_Widget.default, _extends({}, elementProps, {\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    ref: ref,\n    className: (0, _classnames.default)(className, 'rw-number-picker')\n  }), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    className: containerClassName\n  }, /*#__PURE__*/_react.default.createElement(_NumberInput.default, _extends({}, inputProps, {\n    role: \"spinbutton\",\n    tabIndex: tabIndex,\n    value: clampedValue,\n    placeholder: placeholder,\n    autoFocus: autoFocus,\n    editing: focused,\n    localizer: localizer,\n    parse: parse,\n    name: name,\n    min: min,\n    max: max,\n    disabled: disabled,\n    readOnly: readOnly,\n    onChange: handleChange,\n    onKeyPress: onKeyPress,\n    onKeyUp: onKeyUp,\n    innerRef: inputRef\n  })), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"rw-input-addon rw-number-picker-spinners\"\n  }, /*#__PURE__*/_react.default.createElement(_Button.default, {\n    icon: incrementIcon,\n    className: \"rw-picker-btn\",\n    disabled: clampedValue === max || disabled || readOnly,\n    label: localizer.messages.increment({\n      value: clampedValue,\n      min,\n      max\n    }),\n    onMouseUp: () => handleMouseUp(),\n    onMouseDown: e => handleMouseDown('UP', e),\n    onMouseLeave: () => handleMouseUp()\n  }), /*#__PURE__*/_react.default.createElement(_Button.default, {\n    icon: decrementIcon,\n    className: \"rw-picker-btn\",\n    disabled: clampedValue === min || disabled || readOnly,\n    label: localizer.messages.decrement({\n      value: clampedValue,\n      min,\n      max\n    }),\n    onMouseUp: () => handleMouseUp(),\n    onMouseDown: e => handleMouseDown('DOWN', e),\n    onMouseLeave: () => handleMouseUp()\n  }))));\n}\n\n;\nNumberPicker.propTypes = propTypes;\nNumberPicker.defaultProps = defaultProps;\nvar _default = NumberPicker;\nexports.default = _default;\n\nfunction getPrecision(a) {\n  if (!isFinite(a)) return 0;\n  let e = 1;\n  let p = 0;\n\n  while (Math.round(a * e) / e !== a) {\n    e *= 10;\n    p++;\n  }\n\n  return p;\n}"]},"metadata":{},"sourceType":"script"}